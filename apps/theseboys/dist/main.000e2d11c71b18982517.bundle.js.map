{"version":3,"file":"main.000e2d11c71b18982517.bundle.js","mappings":"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","sources":["webpack://theseboys/webpack/runtime/chunk loaded","webpack://theseboys/../../packages/ui/Blanket/Blanket.js","webpack://theseboys/../../packages/ui/Button/Button.js","webpack://theseboys/../../packages/ui/Dialog/DialogBackground.js","webpack://theseboys/../../packages/ui/Dialog/Dialog.js","webpack://theseboys/../../packages/ui/ErrorBoundary/ErrorBoundary.js","webpack://theseboys/../../packages/ui/Spacer/Spacer.js","webpack://theseboys/./src/utils/typeCheck.js","webpack://theseboys/./src/components/Logo/index.js","webpack://theseboys/./src/components/layout/Footer/index.js","webpack://theseboys/./src/components/layout/Main/index.js","webpack://theseboys/./assets/Twitter_Social_Icon_Circle_Color.svg","webpack://theseboys/./src/pages/home/index.js","webpack://theseboys/./src/utils/constants.js","webpack://theseboys/./src/utils/toneHelpers.js","webpack://theseboys/./src/hooks/useSound/index.js","webpack://theseboys/./src/hooks/useEventListener/index.js","webpack://theseboys/./src/utils/types/index.js","webpack://theseboys/./src/components/icon/chevron.js","webpack://theseboys/./src/components/icon/circle.js","webpack://theseboys/./src/components/icon/minus.js","webpack://theseboys/./src/components/icon/play.js","webpack://theseboys/./src/components/icon/plus.js","webpack://theseboys/./src/components/icon/square.js","webpack://theseboys/./src/components/button/index.js","webpack://theseboys/./src/components/controllers/controller/index.js","webpack://theseboys/./src/components/controllers/buttonControl/index.js","webpack://theseboys/./src/components/controllers/controllerGroup/index.js","webpack://theseboys/./src/components/slider/index.js","webpack://theseboys/./src/components/controllers/sliderControl/index.js","webpack://theseboys/./src/components/controls/BitCrusherControls/index.js","webpack://theseboys/./src/components/controls/CompressorControls/index.js","webpack://theseboys/./src/components/controls/DelayControls/index.js","webpack://theseboys/./src/components/controls/DistortionControls/index.js","webpack://theseboys/./src/components/controls/EnvelopeControls/index.js","webpack://theseboys/./src/components/controls/Eq3Controls/index.js","webpack://theseboys/./src/components/controls/FilterControls/index.js","webpack://theseboys/./src/components/controls/LimiterControls/index.js","webpack://theseboys/./src/components/controls/PhaserControls/index.js","webpack://theseboys/./src/components/controls/PitchShiftControls/index.js","webpack://theseboys/./src/components/controls/ReverbControls/index.js","webpack://theseboys/./src/components/controls/StereoWidenerControls/index.js","webpack://theseboys/./src/components/controls/ControlHandler/index.js","webpack://theseboys/./src/components/trackContainer/index.js","webpack://theseboys/./src/utils/studioHelpers/interpolate.js","webpack://theseboys/./src/utils/studioHelpers/toPercent.js","webpack://theseboys/./src/utils/studioHelpers/fromPercent.js","webpack://theseboys/./src/components/trackControls/index.js","webpack://theseboys/./src/utils/errorHandlers/consoleLog.js","webpack://theseboys/./src/utils/studioHelpers/random.js","webpack://theseboys/./src/components/stepSequencer/utils.js","webpack://theseboys/./src/components/stepSequencer/step.js","webpack://theseboys/./src/components/stepSequencer/index.js","webpack://theseboys/./src/components/trackEffects/trackEffects/index.js","webpack://theseboys/./src/components/trackEffects/effectsGroup/index.js","webpack://theseboys/./src/components/studioTrack/index.js","webpack://theseboys/./src/components/master/masterProvider/index.js","webpack://theseboys/./src/components/master/master/index.js","webpack://theseboys/./src/components/master/useMasterContext/index.js","webpack://theseboys/./src/components/midi/index.js","webpack://theseboys/./src/sounds/bass.js","webpack://theseboys/./src/sounds/kicks.js","webpack://theseboys/./src/sounds/hats.js","webpack://theseboys/./src/sounds/snares.js","webpack://theseboys/./src/sounds/poly.js","webpack://theseboys/./src/sounds/index.js","webpack://theseboys/./src/pages/studio/index.js","webpack://theseboys/./src/components/boxTrack/step/index.js","webpack://theseboys/./src/components/boxTrack/index.js","webpack://theseboys/./src/pages/box/index.js","webpack://theseboys/./src/components/polyTrack/index.js","webpack://theseboys/./src/pages/poly/index.js","webpack://theseboys/./src/components/oscillator/index.js","webpack://theseboys/./src/hooks/usePointer/index.js","webpack://theseboys/./src/pages/oscillator/index.js","webpack://theseboys/./src/App.js","webpack://theseboys/./src/index.js","webpack://theseboys/webpack/bootstrap","webpack://theseboys/webpack/runtime/compat get default export","webpack://theseboys/webpack/runtime/define property getters","webpack://theseboys/webpack/runtime/hasOwnProperty shorthand","webpack://theseboys/webpack/runtime/make namespace object","webpack://theseboys/webpack/runtime/publicPath","webpack://theseboys/webpack/runtime/jsonp chunk loading","webpack://theseboys/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","import React from 'react'\nimport { css } from '@stitches/react'\nimport { useSpring, animated } from 'react-spring'\nimport cx from 'classnames'\n\nconst Blanket = () => {\n  const props = useSpring({\n    from: { opacity: 0 },\n    to: { opacity: 1 },\n    config: { duration: 100 },\n  })\n  return (\n    <animated.div\n      style={props}\n      className={cx('ui-blanket', styles().toString())}\n    />\n  )\n}\n\nexport default Blanket\n\nconst styles = css({\n  position: 'fixed',\n  zIndex: 9999,\n  top: 0,\n  left: 0,\n  width: '100%',\n  height: ' 100%',\n  background: 'rgba(0, 0, 0, 0.22)',\n})\n","import * as React from 'react'\nimport PropTypes from 'prop-types'\nimport cx from 'classnames'\nimport { css } from '@stitches/react'\n\nconst Button = ({\n  children,\n  className,\n  as = 'button',\n  role = 'button',\n  type = 'button',\n  tabIndex = '0',\n  disabled = false,\n  onClick = () => null,\n  href = '',\n  target = '_blank',\n  variant = 'contained',\n  theme = 'primary',\n  shape = 'circle',\n  size = 48,\n  ...rest\n}) => {\n  const Element = as\n\n  const buttonProps = {\n    role,\n    type,\n    disabled,\n    onClick,\n  }\n\n  const aProps = {\n    href,\n    target,\n  }\n\n  return (\n    <Element\n      className={cx(\n        'ui-button',\n        className,\n        styles({\n          shape,\n          size,\n          variant,\n          theme,\n        }).toString()\n      )}\n      tabIndex={tabIndex}\n      {...(as === 'button' ? { ...buttonProps } : { ...aProps })}\n      {...rest}\n    >\n      {children}\n    </Element>\n  )\n}\n\nexport default Button\n\nButton.propTypes = {\n  as: PropTypes.oneOf(['button', 'a']),\n  size: PropTypes.oneOf([32, 48, 60]),\n  shape: PropTypes.oneOf(['square', 'rounded', 'circle', 'capsule']),\n}\n\nconst styles = css({\n  display: 'flex',\n  flexDirection: 'column',\n  justifyContent: 'center',\n  alignItems: 'center',\n  margin: 0,\n  borderWidth: 0,\n  borderStyle: 'solid',\n  outline: 'none',\n  overflow: 'hidden',\n  transition: 'all 0.25s ease 0s',\n  userSelect: 'none',\n  cursor: 'pointer',\n  padding: 0,\n  borderRadius: 0,\n  '&:focus': {\n    boxShadow: '0 0 0 3px white',\n  },\n  variants: {\n    theme: {\n      primary: {\n        backgroundColor: '#0000ff',\n      },\n      transparent: {\n        backgroundColor: 'transparent',\n      },\n      yellow: {\n        backgroundColor: '#ff0',\n      },\n    },\n    shape: {\n      rounded: {\n        padding: '0 1em',\n        borderRadius: '3px',\n      },\n      circle: {\n        borderRadius: '100%',\n      },\n    },\n    size: {\n      32: {\n        minHeight: `32px`,\n      },\n      48: {\n        minHeight: `48px`,\n      },\n      60: {\n        minHeight: `60px`,\n      },\n    },\n  },\n  compoundVariants: [\n    {\n      shape: 'circle',\n      size: 32,\n      css: {\n        minWidth: '32px',\n      },\n    },\n    {\n      shape: 'circle',\n      size: 48,\n      css: {\n        minWidth: '48px',\n      },\n    },\n    {\n      shape: 'circle',\n      size: 60,\n      css: {\n        minWidth: '60px',\n      },\n    },\n  ],\n})\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { css } from '@stitches/react'\nimport cx from 'classnames'\n\nconst DialogBackground = ({ children, close }) => {\n  return (\n    <div\n      className={cx('ui-dialog-background', styles().toString())}\n      onClick={close}\n    >\n      {children}\n    </div>\n  )\n}\n\nexport default DialogBackground\n\nDialogBackground.propTypes = {\n  close: PropTypes.func.isRequired,\n}\n\nconst styles = css({\n  display: 'flex',\n  flexDirection: 'column',\n  justifyContent: 'center',\n  alignItems: 'center',\n  position: 'fixed',\n  zIndex: 10000,\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0,\n  width: '100%',\n  height: ' 100%',\n})\n","import * as React from 'react'\nimport PropTypes from 'prop-types'\nimport FocusLock from 'react-focus-lock'\nimport { css } from '@stitches/react'\nimport { useSpring, animated, config } from 'react-spring'\nimport cx from 'classnames'\n\nimport DialogBackground from './DialogBackground'\n\nconst Dialog = ({\n  children,\n  className,\n  style = {},\n  size = 'md',\n  close,\n  ...rest\n}) => {\n  const props = useSpring({\n    from: { opacity: 0, transform: 'translateY(+70px)' },\n    to: { opacity: 1, transform: 'translateY(0px)' },\n    config: config.stiff,\n  })\n\n  const handleKeyDown = (e) => {\n    if (e.key === 'Escape') {\n      e.preventDefault()\n      close()\n    }\n  }\n\n  return (\n    <FocusLock returnFocus>\n      <DialogBackground close={close}>\n        <animated.div\n          tabIndex={'-1'}\n          style={{ ...style, ...props }}\n          className={cx('ui-dialog', className, styles({ size }).toString())}\n          onClick={(e) => e.stopPropagation()}\n          onKeyDown={handleKeyDown}\n          {...rest}\n        >\n          {children}\n        </animated.div>\n      </DialogBackground>\n    </FocusLock>\n  )\n}\n\nexport default Dialog\n\nDialog.propTypes = {\n  close: PropTypes.func,\n}\n\nconst styles = css({\n  position: 'relative',\n  width: '100%',\n  maxWidth: ' 720px',\n  maxHeight: 'calc(100vh - 140px)',\n  padding: '0 30px',\n  background: 'transparent',\n  overflowY: 'auto',\n  overflowX: 'hidden',\n  '&:focus': {\n    outline: 'none',\n  },\n  '&::-webkit-scrollbar': {\n    display: 'none',\n    width: 0,\n    background: 'transparent',\n  },\n  '&::-webkit-scrollbar-track': {\n    background: 'transparent',\n  },\n  variants: {\n    size: {\n      lg: {\n        maxWidth: '1040px',\n      },\n    },\n  },\n})\n","import React, { Component } from 'react'\nimport { css } from '@stitches/react'\n\nexport default class ErrorBoundary extends Component {\n  state = {\n    hasError: false,\n  }\n\n  static getDerivedStateFromError() {\n    return { hasError: true }\n  }\n\n  componentDidCatch(error, info) {\n    console.log(error, info)\n  }\n\n  render() {\n    const { hasError } = this.state\n    const { children } = this.props\n\n    if (hasError) {\n      return (\n        <section className={styles()}>\n          <span>something wrong.</span>\n        </section>\n      )\n    }\n\n    return children\n  }\n}\n\nconst styles = css({\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center',\n  height: '100vh',\n})\n","import * as React from 'react'\nimport PropTypes from 'prop-types'\nimport cx from 'classnames'\nimport { css } from '@stitches/react'\n\nconst styles = css({\n  display: 'block',\n  variants: {\n    size: {\n      4: {\n        width: '4px',\n        height: `4px`,\n        minWidth: '4px',\n        minHeight: `4px`,\n      },\n      8: {\n        width: '8px',\n        height: `8px`,\n        minWidth: '8px',\n        minHeight: `8px`,\n      },\n      16: {\n        width: '16px',\n        height: `16px`,\n        minWidth: '16px',\n        minHeight: `16px`,\n      },\n      32: {\n        width: '32px',\n        height: `32px`,\n        minWidth: '32px',\n        minHeight: `32px`,\n      },\n    },\n  },\n})\n\nconst Spacer = ({ size = 8 }) => {\n  return <span className={cx('ui-spacer', styles({ size }).toString())} />\n}\n\nexport default Spacer\n\nSpacer.propTypes = {\n  size: PropTypes.oneOf([4, 8, 16, 32]),\n  axis: PropTypes.oneOf(['vertical', 'horizontal']),\n}\n","/**\n * Test if the arg is undefined\n */\nexport const isUndefined = (arg) => {\n  return typeof arg === 'undefined'\n}\n\n/**\n * Test if the argument is null.\n */\nexport const isNull = (arg) => {\n  return arg === null\n}\n\n/**\n * Test if the argument is a string.\n */\nexport const isString = (arg) => {\n  return typeof arg === 'string'\n}\n\n/**\n * Test if the argument is a boolean.\n */\nexport const isBoolean = (arg) => {\n  return typeof arg === 'boolean'\n}\n\n/**\n * Test if the argument is an Array\n */\nexport const isArray = (arg) => {\n  return Array.isArray(arg)\n}\n\n/**\n * Test if the given argument is an object;\n */\nexport const isObject = (arg) => {\n  return Object.prototype.toString.call(arg) === '[object Object]'\n}\n\n/**\n * Test if the arg is a function\n */\nexport const isFunction = (arg) => {\n  return typeof arg === 'function'\n}\n\n/**\n * Test if the argument is a number.\n */\nexport const isNumber = (arg) => {\n  return typeof arg === 'number'\n}\n","import React from 'react'\nimport { useSpring, animated } from 'react-spring'\nimport { isFunction } from 'utils/typeCheck'\n\nconst calc = (x, y) => [\n  -(y - window.innerHeight / 2) / 20,\n  (x - window.innerWidth / 2) / 20,\n  1.1,\n]\n\nconst trans = (x, y, s) =>\n  `perspective(600px) rotateX(${x}deg) rotateY(${y}deg) scale(${s})`\n\nconst Logo = ({ animate = false, fill = 'var(--color-primary)', onClick }) => {\n  const [props, set] = useSpring(() => ({\n    xys: [0, 0, 1],\n    config: { mass: 5, tension: 350, friction: 40 },\n  }))\n\n  return (\n    <animated.svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 480 480\"\n      onMouseMove={({ clientX: x, clientY: y }) => set({ xys: calc(x, y) })}\n      onMouseLeave={() => set({ xys: [0, 0, 1] })}\n      {...(animate && {\n        style: {\n          transform: props.xys.interpolate(trans),\n        },\n      })}\n      onClick={() => {\n        if (isFunction(onClick)) {\n          onClick()\n        }\n      }}\n    >\n      <path\n        fill={fill}\n        d=\"M240 0c-132.5 0-240 107.5-240 240s107.5 240 240 240 240-107.5 240-240-107.5-240-240-240zm111.9 177.8c-17.4 11.3-35.5 21.8-43.1 43-4.6 12.6-9.5 24.9 2.6 36.3 2.8 2.7 5.7 6.4 6.4 10 .9 4.5 1.4 12-1 13.7-7.8 5.4-5.9 11.1-4.1 18.3 6.9 27.5 13.4 55.2 19.5 82.9.7 3.3-1.7 7.4-2.6 11.1-2.9-2.7-7.3-4.9-8.4-8.3-9.7-27.2-19.3-54.4-27.8-82-2.9-9.5-6.6-12.1-16.3-9.8l-36.6 5.8c-8.9 2.1-17.1 6.8-25.8 9.7-2.9 1-6.5-.1-9.8-.2.8-2.9.7-6.8 2.6-8.7 26.9-27.2 33.3-37.2 48.8-77.3-7.7-9-15.8-9.9-25.2-3.9-19.8 12.6-39.6 25.1-59.7 37.1-13.2 7.9-26.7 15.1-40.4 22.1-3 1.5-7.3.3-11 .3 1.2-3.7 1.3-8.6 3.8-10.9 27-24.6 58-42.6 92.1-55.5 2.4-.9 4.9-2 7.2-3.3 1.4-.8 2.6-2 5-4-12.2-5.7-21-14.8-34.9-14.7-5.1.1-10.5-5.4-15.4-8.8-1.1-.7-1.5-4.6-.7-5.2 1.7-1.5 4.9-3.1 6.6-2.5 10.3 3.7 20.5 7.9 30.6 12.2 4.6 2 9.4 4 13.2 7.1 7.6 6.2 12.8 2.5 18.9-2.6 14.9-12.5 23.9-25.4 17.9-47.2-4.8-17.6-3.6-36.9-5-55.4 1.1-.2 2.2-.4 3.3-.5 4.3 23.2 8.7 46.4 13 69.9 5.2-8.3 10.3-16.4 15.4-24.5.9-1.4 1.3-3.4 2.6-4.3 2.7-2 5.8-3.4 8.7-5.1.8 3.2 3.1 7 2.2 9.6-3.7 11.1-8.3 21.9-12.8 32.7-2.8 6.7-6 13.3-9 19.9l1.6 2.4c8.3-2.7 16.6-5.2 24.8-8.2 12.2-4.5 24.1-9.8 36.5-13.7 4-1.3 11.6-.9 13.2 1.5 3.9 6.2-2.7 8.3-6.9 11zM235 289.9c11.2-20.8 21.6-40.2 32.4-60.2 18.4 13.6 11.4 34.8 19.7 52.3-18 2.7-34.3 5.2-52.1 7.9zM292.2 238c-7.5-9.7-8.9-22.1-9-34.7 0-1.4 2.7-3.6 4.5-4.2 10.2-3.6 20.6-6.8 28.8-9.4-7.6 15.1-15.8 31.4-24.3 48.3z\"\n      />\n    </animated.svg>\n  )\n}\n\nexport default Logo\n","import React from 'react'\nimport { useLocation, Link } from 'react-router-dom'\n\nimport './index.css'\n\nimport Logo from '../../Logo'\n\nconst Footer = () => {\n  const location = useLocation()\n\n  return (\n    <footer className={'me__footer'}>\n      <Link reloadDocument to={location.pathname === '/' ? '/studio' : '/'}>\n        <Logo fill={'var(--color-grey-800)'} />\n      </Link>\n    </footer>\n  )\n}\n\nexport default Footer\n","import React from 'react'\nimport cx from 'classnames'\n\nimport './index.css'\n\nconst Main = ({ children, id, className }) => {\n  return (\n    <main id={id} className={cx('me__main', className)}>\n      {children}\n    </main>\n  )\n}\n\nexport default Main\n","export default __webpack_public_path__ + \"assets/6afcb252d35b92fae5f607e460966551.svg\";","import React from 'react'\n\nimport './index.css'\n\nimport TwitterLogo from 'assets/Twitter_Social_Icon_Circle_Color.svg'\nimport { Footer, Main } from 'components/layout'\nimport Logo from 'components/Logo'\n\nconst Home = () => {\n  return (\n    <>\n      <Main className={'index'}>\n        <div>\n          <Logo animate fill={'var(--color-primary)'} />\n        </div>\n        <div className={'social-links'}>\n          <a href={'http://twitter.com/theseboys'} target={'_blank'}>\n            <img\n              alt={'Twitter logo'}\n              style={{\n                width: '24px',\n                height: '24px',\n              }}\n              src={TwitterLogo}\n            />\n          </a>\n          <iframe\n            scrolling=\"no\"\n            frameBorder=\"no\"\n            src=\"https://w.soundcloud.com/icon/?url=http%3A%2F%2Fsoundcloud.com%2Ftheseboys&color=orange_white&size=24\"\n            style={{\n              width: '24px',\n              height: '24px',\n            }}\n          />\n        </div>\n      </Main>\n      <Footer />\n    </>\n  )\n}\n\nexport default Home\n","export const BPM_MIN = 60\nexport const BPM_MAX = 240\nexport const DECIBEL_MIN = -60\nexport const DECIBEL_MAX = 20\nexport const FREQUENCY_MIN = 20\nexport const FREQUENCY_MAX = 20000\nexport const EQ3_MIN = -60\nexport const EQ3_MAX = 20\nexport const VOL_MIN = -60\nexport const VOL_MAX = 20\nexport const WET_STEP = 0.01\nexport const WET_DECIMALS = 2\nexport const WET_MIN = 0\nexport const WET_MAX = 1\nexport const RANDOMIZER_MIN = 0.8\nexport const RANDOMIZER_MAX = 1\nexport const OCTAVES = [\n  ['C1', 'C#1', 'D1', 'D#1', 'E1', 'F1', 'F#1', 'G1', 'G#1', 'A1', 'A#1', 'B1'],\n  ['C2', 'C#2', 'D2', 'D#2', 'E2', 'F2', 'F#2', 'G2', 'G#2', 'A2', 'A#2', 'B2'],\n  ['C3', 'C#3', 'D3', 'D#3', 'E3', 'F3', 'F#3', 'G3', 'G#3', 'A3', 'A#3', 'B3'],\n  ['C4', 'C#4', 'D4', 'D#4', 'E4', 'F4', 'F#4', 'G4', 'G#4', 'A4', 'A#4', 'B4'],\n  ['C5', 'C#5', 'D5', 'D#5', 'E5', 'F5', 'F#5', 'G5', 'G#5', 'A5', 'A#5', 'B5'],\n  ['C6', 'C#6', 'D6', 'D#6', 'E6', 'F6', 'F#6', 'G6', 'G#6', 'A6', 'A#6', 'B6'],\n]\nexport const SCALE_A_MAJOR = ['A3', 'B3', 'D4', 'E4', 'F#4', 'A4', 'B4', 'D5']\nexport const SCALE_A_MINOR = ['A3', 'C4', 'D4', 'E4', 'G4', 'A4', 'C5', 'D5']\nexport const SCALE_C_MAJOR = ['C4', 'D4', 'F4', 'G4', 'A4', 'C5', 'D5', 'F5']\nexport const SCALE_G_MAJOR = ['G3', 'A3', 'C4', 'D4', 'E4', 'G4', 'A4', 'C5']\nexport const CHANNEL_DEFAULT = { pan: 0, volume: 0, mute: false }\nexport const NOTES_DEFAULT = ['C1']\nexport const STEP_COUNT_DEFAULT = 16\nexport const STEPS_DEFAULT = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]]\nexport const TRACK_DEFAULT = {\n  channel: CHANNEL_DEFAULT,\n  notes: NOTES_DEFAULT,\n  stepCount: STEP_COUNT_DEFAULT,\n  steps: STEPS_DEFAULT,\n  instrument: {\n    synth: 'SYNTH',\n    options: {},\n  },\n  effects: {},\n  controls: {},\n}\n","import {\n  BitCrusher,\n  Chorus,\n  Compressor,\n  Distortion,\n  EQ3,\n  FeedbackDelay,\n  Filter,\n  Gain,\n  Gate,\n  Limiter,\n  MembraneSynth,\n  MetalSynth,\n  NoiseSynth,\n  Phaser,\n  PitchShift,\n  PolySynth,\n  Reverb,\n  StereoWidener,\n  Synth,\n} from 'tone'\nimport { isString } from 'utils/typeCheck'\n\nexport const getSynth = (name, options = {}) => {\n  if (!isString(name)) {\n    return\n  }\n\n  const synths = {\n    PolySynth: new PolySynth(Synth, options),\n    MembraneSynth: new MembraneSynth(options),\n    MetalSynth: new MetalSynth(options),\n    NoiseSynth: new NoiseSynth(options),\n    Synth: new Synth(options),\n  }\n\n  return synths[name]\n}\n\nexport const getEffect = (name, options = {}) => {\n  if (!isString(name)) {\n    return\n  }\n\n  const effects = {\n    BitCrusher: new BitCrusher(options),\n    //Chorus: new Chorus(options),\n    Compressor: new Compressor(options),\n    Distortion: new Distortion(options),\n    EQ3: new EQ3(options),\n    FeedbackDelay: new FeedbackDelay(options),\n    Filter: new Filter(options),\n    Gain: new Gain(options),\n    Gate: new Gate(options),\n    Limiter: new Limiter(options),\n    Phaser: new Phaser(options),\n    PitchShift: new PitchShift(options),\n    Reverb: new Reverb(options),\n    StereoWidener: new StereoWidener(options),\n  }\n\n  return effects[name]\n}\n","import { useEffect, useRef } from 'react'\nimport { Channel, Destination } from 'tone'\n\nimport { getSynth, getEffect } from 'utils/toneHelpers'\n\nconst useSound = (channel, instrument, effects = {}) => {\n  if (!channel || !instrument || !effects) {\n    throw new Error('error')\n  }\n\n  /* Channel */\n  const channelRef = useRef(new Channel(channel ?? {}))\n\n  /* Effects */\n  const effectsChainRef = useRef(\n    [...effects].map(([effect, options]) => getEffect(effect, options))\n  )\n\n  /* Synth */\n  const synthRef = useRef(\n    getSynth(instrument.synth, instrument.options).chain(\n      channelRef.current,\n      ...effectsChainRef.current,\n      Destination\n    )\n  )\n\n  const trigger = (notes, ...rest) => {\n    if (!synthRef.current) {\n      return\n    }\n\n    let args\n\n    switch (synthRef.current.name) {\n      case 'NoiseSynth':\n        args = [...rest]\n        break\n      case 'PolySynth':\n        args = [notes, ...rest]\n        break\n      default:\n        args = [notes[0], ...rest]\n        break\n    }\n\n    synthRef.current.triggerAttackRelease(...args)\n  }\n\n  useEffect(() => {\n    return () => {\n      if (Destination) {\n        Destination.dispose()\n      }\n\n      if (channelRef.current) {\n        channelRef.current.dispose()\n      }\n\n      if (synthRef.current) {\n        synthRef.current.dispose()\n      }\n\n      if (isArray(effectsChainRef.current)) {\n        effectsChainRef.current.forEach((effect) => effect.dispose())\n      }\n    }\n  }, [])\n\n  return {\n    channel: channelRef.current,\n    synth: synthRef.current,\n    effects: effectsChainRef.current,\n    trigger,\n  }\n}\n\nexport default useSound\n","import { useEffect, useRef } from 'react'\n\nconst useEventListener = (\n  handler,\n  element = document.body,\n  eventName = 'keydown'\n) => {\n  const savedHandler = useRef()\n\n  useEffect(() => {\n    savedHandler.current = handler\n  }, [handler])\n\n  useEffect(() => {\n    const isSupported = element && element.addEventListener\n    if (!isSupported) return\n\n    const eventListener = (event) => savedHandler.current(event)\n\n    element.addEventListener(eventName, eventListener)\n\n    return () => {\n      element.removeEventListener(eventName, eventListener)\n    }\n  }, [eventName, element])\n}\n\nexport default useEventListener\n","import PropTypes from 'prop-types'\n\nexport const channelTypes = PropTypes.shape({\n  pan: PropTypes.number.isRequired,\n  volume: PropTypes.number.isRequired,\n  mute: PropTypes.bool.isRequired,\n}).isRequired\n\nexport const synthTypes = PropTypes.oneOf([\n  'AMSynth',\n  'DuoSynth',\n  'FMSynth',\n  'MembraneSynth',\n  'MetalSynth',\n  'NoiseSynth',\n  'PluckSynth',\n  'PolySynth',\n  'Synth',\n]).isRequired\n\nexport const instrumentTypes = PropTypes.shape({\n  synth: synthTypes,\n  options: PropTypes.object.isRequired,\n}).isRequired\n\nexport const notesTypes = PropTypes.arrayOf(PropTypes.string)\n\nexport const stepsTypes = PropTypes.arrayOf(\n  PropTypes.array.isRequired\n).isRequired\n","import React, { memo } from 'react'\nimport cx from 'classnames'\n\nexport const ChevronIcon = memo(\n  ({\n    className,\n    width = '100%',\n    stroke = 'var(--color-bluegrey-600)',\n    strokeWidth = '4',\n  }) => {\n    return (\n      <svg\n        className={cx('svg-icon', className)}\n        width={width}\n        viewBox=\"0 0 30 30\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <polyline\n          points=\"0,10 15,20 30,10\"\n          fill={'transparent'}\n          stroke={stroke}\n          strokeWidth={strokeWidth}\n        />\n      </svg>\n    )\n  }\n)\n","import React, { memo } from 'react'\nimport cx from 'classnames'\n\nexport const CircleIcon = memo(\n  ({\n    className,\n    width = '100%',\n    fill = 'var(--color-bluegrey-600)',\n    stroke = 'var(--color-bluegrey-600)',\n    strokeWidth = '0',\n  }) => {\n    return (\n      <svg\n        className={cx('svg-icon', className)}\n        width={width}\n        viewBox=\"0 0 300 300\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <circle\n          cx=\"150\"\n          cy=\"150\"\n          r={'150'}\n          fill={fill}\n          stroke={stroke}\n          strokeWidth={strokeWidth}\n        />\n      </svg>\n    )\n  }\n)\n","import React, { memo } from 'react'\nimport cx from 'classnames'\n\nexport const MinusIcon = memo(\n  ({\n    className,\n    width = '100%',\n    stroke = 'var(--color-bluegrey-600)',\n    strokeWidth = '4',\n  }) => {\n    return (\n      <svg\n        className={cx('svg-icon', className)}\n        width={width}\n        viewBox=\"0 0 30 30\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <line\n          x1=\"0\"\n          y1=\"15\"\n          x2=\"30\"\n          y2=\"15\"\n          fill={'transparent'}\n          stroke={stroke}\n          strokeWidth={strokeWidth}\n        />\n      </svg>\n    )\n  }\n)\n","import React, { memo } from 'react'\nimport cx from 'classnames'\n\nexport const PlayIcon = memo(\n  ({\n    className,\n    width = '100%',\n    fill = 'var(--color-bluegrey-600)',\n    stroke = 'var(--color-bluegrey-600)',\n    strokeWidth = '0',\n  }) => {\n    return (\n      <svg\n        className={cx('svg-icon', className)}\n        width={width}\n        viewBox=\"0 0 300 300\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <polygon\n          points={'0, 0 300, 150 0, 300'}\n          fill={fill}\n          stroke={stroke}\n          strokeWidth={strokeWidth}\n        />\n      </svg>\n    )\n  }\n)\n","import React, { memo } from 'react'\nimport cx from 'classnames'\n\nexport const PlusIcon = memo(\n  ({\n    className,\n    width = '100%',\n    stroke = 'var(--color-bluegrey-600)',\n    strokeWidth = '4',\n  }) => {\n    return (\n      <svg\n        className={cx('svg-icon', className)}\n        width={width}\n        viewBox=\"0 0 30 30\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <line\n          x1=\"15\"\n          y1=\"0\"\n          x2=\"15\"\n          y2=\"30\"\n          fill={'transparent'}\n          stroke={stroke}\n          strokeWidth={strokeWidth}\n        />\n        <line\n          x1=\"0\"\n          y1=\"15\"\n          x2=\"30\"\n          y2=\"15\"\n          fill={'transparent'}\n          stroke={stroke}\n          strokeWidth={strokeWidth}\n        />\n      </svg>\n    )\n  }\n)\n","import React, { memo } from 'react'\nimport cx from 'classnames'\n\nexport const SquareIcon = memo(\n  ({\n    className,\n    width = '100%',\n    fill = 'var(--color-bluegrey-600)',\n    stroke = 'var(--color-bluegrey-600)',\n    strokeWidth = '0',\n  }) => {\n    return (\n      <svg\n        className={cx('svg-icon', className)}\n        width={width}\n        viewBox=\"0 0 300 300\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <rect\n          width=\"300\"\n          height=\"300\"\n          fill={fill}\n          stroke={stroke}\n          strokeWidth={strokeWidth}\n        />\n      </svg>\n    )\n  }\n)\n","import React, { memo } from 'react'\nimport { oneOf } from 'prop-types'\nimport cx from 'classnames'\n\nimport './styles.css'\n\nconst Button = memo(\n  ({\n    children,\n    id,\n    testId,\n    isDisabled = false,\n    className,\n    role = 'button',\n    type = 'button',\n    size = 48,\n    shape = 'circle',\n    variant,\n    ...rest\n  }) => {\n    return (\n      <button\n        id={id}\n        data-testid={testId}\n        disabled={isDisabled}\n        className={cx(\n          'tb-button',\n          {\n            [`size-${size}`]: size && variant !== 'text',\n            [shape]: shape && variant !== 'text',\n            [variant]: variant,\n            disabled: isDisabled,\n          },\n          className\n        )}\n        role={role}\n        type={type}\n        {...rest}\n      >\n        {children}\n      </button>\n    )\n  }\n)\n\nexport default Button\n\nButton.propTypes = {\n  size: oneOf([24, 28, 32, 36, 40, 44, 48]),\n  shape: oneOf(['circle', 'rounded']),\n}\n","import React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport cx from 'classnames'\n\nimport './styles.css'\n\nconst Controller = memo(\n  ({\n    children,\n    id,\n    orient = 'vertical',\n    type = 'slider',\n    theme = 'default',\n  }) => {\n    return (\n      <div\n        id={id}\n        className={cx('controller', {\n          [orient]: orient,\n          [`type-${type}`]: type,\n          [`theme-${theme}`]: theme,\n        })}\n      >\n        {children}\n      </div>\n    )\n  }\n)\n\nexport default Controller\n\nController.propTypes = {\n  id: PropTypes.string.isRequired,\n  orient: PropTypes.oneOf(['vertical', 'horizontal']),\n  type: PropTypes.oneOf(['slider', 'button']),\n  theme: PropTypes.oneOf(['default', 'light']),\n}\n","import React, { memo, useEffect } from 'react'\nimport PropTypes from 'prop-types'\n\nimport { MinusIcon, PlusIcon } from '../../icon'\nimport Button from '../../button'\nimport Controller from '../controller'\n\nconst ButtonControl = memo(\n  ({\n    id,\n    orient = 'vertical',\n    label,\n    step = 1,\n    min = 0,\n    max = 100,\n    initialValue,\n    toFixed = 0,\n    onChange,\n  }) => {\n    useEffect(() => {\n      handleOnChange(initialValue)\n    }, [])\n\n    const handleOnChange = (val) => {\n      if (typeof val !== 'number' || val < min || val > max) return\n\n      document\n        .querySelectorAll(`#${id} .control`)\n        ?.forEach((e) => e.setAttribute('value', `${val}`))\n      document\n        .querySelector(`#${id} span.value`)\n        ?.setAttribute('value', val.toFixed(toFixed))\n\n      if (val > min && val < max) {\n        document\n          .querySelectorAll(`#${id} .control`)\n          ?.forEach(\n            (e) => e.classList.contains('alert') && e.classList.remove('alert')\n          )\n      } else if (val === min) {\n        document.querySelector(`#${id} .control.dec`)?.classList.add('alert')\n      } else if (val === max) {\n        document.querySelector(`#${id} .control.inc`)?.classList.add('alert')\n      }\n\n      onChange(val)\n    }\n\n    return (\n      <Controller id={id} orient={orient} type={'button'}>\n        <label className={'label'}>{label}</label>\n        <div className={'controls'}>\n          <Button\n            className={'control dec'}\n            size={28}\n            onClick={(e) => {\n              const next = parseFloat(e.target.value) - step\n              if (next < min) return\n              handleOnChange(next)\n            }}\n          >\n            <MinusIcon width={'72%'} />\n          </Button>\n          <Button\n            className={'control inc'}\n            size={28}\n            onClick={(e) => {\n              const next = parseFloat(e.target.value) + step\n              if (next > max) return\n              handleOnChange(next)\n            }}\n          >\n            <PlusIcon width={'72%'} />\n          </Button>\n        </div>\n        <span className={'value'} />\n      </Controller>\n    )\n  }\n)\n\nexport default ButtonControl\n","import React, { memo } from 'react'\nimport cx from 'classnames'\n\nimport './styles.css'\n\nconst ControllerGroup = memo(\n  ({ children, id, orientation = 'horizontal', ...rest }) => {\n    return (\n      <div\n        id={id}\n        className={cx('controller-group', {\n          [orientation]: orientation,\n        })}\n        {...rest}\n      >\n        {children}\n      </div>\n    )\n  }\n)\n\nexport default ControllerGroup\n","import React, { memo, forwardRef } from 'react'\nimport PropTypes from 'prop-types'\nimport cx from 'classnames'\n\nimport './styles.css'\n\nconst Slider = memo(\n  forwardRef(\n    (\n      {\n        id,\n        testId,\n        className,\n        orient = 'horizontal',\n        isDisabled = false,\n        step = 0.1,\n        min = 0,\n        max = 1,\n        onChange,\n        ...rest\n      },\n      ref\n    ) => {\n      return (\n        <input\n          ref={ref}\n          id={id}\n          data-testid={testId}\n          className={cx(\n            'tb-slider',\n            {\n              [`orient-${orient}`]: orient,\n              disabled: isDisabled,\n            },\n            className\n          )}\n          disabled={isDisabled}\n          orient={orient}\n          type={'range'}\n          step={step}\n          max={max}\n          min={min}\n          onChange={onChange}\n          {...rest}\n        />\n      )\n    }\n  )\n)\n\nexport default Slider\n\nSlider.propTypes = {\n  orient: PropTypes.string,\n  isDisabled: PropTypes.bool,\n  step: PropTypes.number,\n  max: PropTypes.number,\n  min: PropTypes.number,\n  onChange: PropTypes.func.isRequired,\n}\n","import React, { memo, useEffect, useRef } from 'react'\nimport PropTypes from 'prop-types'\n\nimport Slider from 'components/slider'\nimport Controller from '../controller'\n\nconst SliderControl = memo(\n  ({\n    id,\n    orient = 'vertical',\n    label,\n    step = 0.1,\n    min = 0,\n    max = 1,\n    initialValue: initial,\n    toFixed = 0,\n    onChange,\n  }) => {\n    const controlRef = useRef(null)\n    const valueRef = useRef(null)\n\n    const isInvalid = (val) => typeof val !== 'number' || val < min || val > max\n\n    useEffect(() => {\n      if (!isInvalid(initial)) {\n        controlRef.current.value = initial.toString()\n        valueRef.current.innerHTML = initial.toFixed(toFixed)\n      }\n    }, [])\n\n    return (\n      <Controller id={id} orient={orient}>\n        <label htmlFor={''} className={'label'}>\n          {label}\n        </label>\n        <div className={'controls'}>\n          <Slider\n            ref={controlRef}\n            className={'control'}\n            orient={orient}\n            step={step}\n            min={min}\n            max={max}\n            onChange={(e) => {\n              const val = parseFloat(e.target.value)\n\n              if (!isInvalid(val)) {\n                valueRef.current.innerHTML = val.toFixed(toFixed)\n                onChange(val, '0.1')\n              }\n            }}\n            onKeyDown={(e) => {\n              let val\n\n              switch (e.key) {\n                case 'q':\n                  val = max\n                  break\n                case 'a':\n                  val = min\n                  break\n                case 's':\n                  val = initial\n                  break\n                default:\n                  break\n              }\n\n              if (!isInvalid(val)) {\n                e.target.value = val\n                valueRef.current.innerHTML = val.toFixed(toFixed)\n                onChange(val, '4n')\n              }\n            }}\n          />\n        </div>\n        <span ref={valueRef} className={'value'} />\n      </Controller>\n    )\n  }\n)\n\nexport default SliderControl\n\nSliderControl.propTypes = {\n  id: PropTypes.string.isRequired,\n  orient: PropTypes.oneOf(['horizontal', 'vertical']),\n  label: PropTypes.string.isRequired,\n  step: PropTypes.number,\n  min: PropTypes.number,\n  max: PropTypes.number,\n  initialValue: PropTypes.number.isRequired,\n  toFixed: PropTypes.number,\n  onChange: PropTypes.func.isRequired,\n}\n","import React, { memo } from 'react'\n\nimport { SliderControl } from '../../controllers'\n\nconst BitCrusherControls = memo(({ trackId, node }) => {\n  if (!trackId || !node) return null\n\n  return (\n    <SliderControl\n      id={`${trackId}-bitcrusher--bits`}\n      label={'BIT'}\n      step={1}\n      min={1}\n      max={16}\n      initialValue={node.get().bits ?? 0}\n      onChange={(val) => node.set({ bits: val })}\n    />\n  )\n})\n\nexport default BitCrusherControls\n","import React, { memo } from 'react'\n\nimport { DECIBEL_MIN, DECIBEL_MAX } from '../../../utils/constants'\nimport { SliderControl } from '../../controllers'\n\nconst CompressorControls = memo(({ trackId, node }) => {\n  if (!trackId || !node) return null\n\n  return (\n    <>\n      <SliderControl\n        id={`${trackId}-compressor--ratio`}\n        label={'RTO'}\n        step={1}\n        min={1}\n        max={20}\n        initialValue={node.get().ratio ?? 1}\n        onChange={(val) => node.set({ ratio: val })}\n      />\n      <SliderControl\n        id={`${trackId}-compressor--attack`}\n        label={'ATK'}\n        step={0.001}\n        toFixed={3}\n        initialValue={node.get().attack ?? 0}\n        onChange={(val) => node.set({ attack: val })}\n      />\n      <SliderControl\n        id={`${trackId}-compressor--release`}\n        label={'REL'}\n        step={0.001}\n        toFixed={3}\n        initialValue={node.get().release ?? 0}\n        onChange={(val) => node.set({ release: val })}\n      />\n      <SliderControl\n        id={`${trackId}-compressor--threshold`}\n        label={'TRH'}\n        step={1}\n        min={DECIBEL_MIN}\n        max={DECIBEL_MAX}\n        initialValue={node.get().threshold ?? 0}\n        onChange={(val) => node.set({ threshold: val })}\n      />\n    </>\n  )\n})\n\nexport default CompressorControls\n","import React, { memo } from 'react'\n\nimport {\n  WET_STEP,\n  WET_DECIMALS,\n  WET_MIN,\n  WET_MAX,\n} from '../../../utils/constants'\nimport { SliderControl } from '../../controllers'\n\nconst DelayControls = memo(({ trackId, node }) => {\n  if (!trackId || !node) return null\n\n  return (\n    <SliderControl\n      id={`${trackId}-delay--wet`}\n      label={'DEL'}\n      step={WET_STEP}\n      min={WET_MIN}\n      max={WET_MAX}\n      toFixed={WET_DECIMALS}\n      initialValue={node.get().wet ?? 0}\n      onChange={(val) => node.set({ wet: val })}\n    />\n  )\n})\n\nexport default DelayControls\n","import React, { memo } from 'react'\n\nimport {\n  WET_STEP,\n  WET_DECIMALS,\n  WET_MIN,\n  WET_MAX,\n} from '../../../utils/constants'\nimport { SliderControl } from '../../controllers'\n\nconst DistortionControls = memo(({ trackId, node }) => {\n  if (!trackId || !node) return null\n\n  return (\n    <SliderControl\n      id={`${trackId}-distortion--wet`}\n      label={'DIS'}\n      step={WET_STEP}\n      min={WET_MIN}\n      max={WET_MAX}\n      toFixed={WET_DECIMALS}\n      initialValue={node.get().wet ?? 0}\n      onChange={(val) => node.set({ wet: val })}\n    />\n  )\n})\n\nexport default DistortionControls\n","import React, { memo } from 'react'\n\nimport { SliderControl } from '../../controllers'\n\nconst EnvelopeControls = memo(({ trackId, initialValue, onChange }) => {\n  if (!trackId || !initialValue) return null\n\n  return (\n    <>\n      <SliderControl\n        id={`${trackId}-envelope--attack`}\n        label={'ATK'}\n        step={0.001}\n        max={2}\n        toFixed={3}\n        initialValue={initialValue.attack ?? 0}\n        onChange={(val) => onChange({ attack: val })}\n      />\n      <SliderControl\n        id={`${trackId}-envelope--decay`}\n        label={'DEC'}\n        step={0.001}\n        max={2}\n        toFixed={3}\n        initialValue={initialValue.decay ?? 0}\n        onChange={(val) => onChange({ decay: val })}\n      />\n      <SliderControl\n        id={`${trackId}-envelope--sustain`}\n        label={'SUS'}\n        step={0.001}\n        toFixed={3}\n        initialValue={initialValue.sustain ?? 0}\n        onChange={(val) => onChange({ sustain: val })}\n      />\n      <SliderControl\n        id={`${trackId}-envelope--release`}\n        label={'REL'}\n        step={0.001}\n        max={2}\n        toFixed={3}\n        initialValue={initialValue.release ?? 0}\n        onChange={(val) => onChange({ release: val })}\n      />\n    </>\n  )\n})\n\nexport default EnvelopeControls\n","import React, { memo } from 'react'\n\nimport {\n  DECIBEL_MIN,\n  DECIBEL_MAX,\n  FREQUENCY_MIN,\n  FREQUENCY_MAX,\n} from '../../../utils/constants'\nimport { SliderControl } from '../../controllers'\n\nconst Eq3Controls = memo(({ trackId, node }) => {\n  if (!trackId || !node) return null\n\n  return (\n    <>\n      <SliderControl\n        id={`${trackId}-eq3--low`}\n        label={'LOW'}\n        step={1}\n        min={DECIBEL_MIN}\n        max={DECIBEL_MAX}\n        initialValue={node.get().low ?? 0}\n        onChange={(val, time) => node.low.rampTo(val, time)}\n      />\n      <SliderControl\n        id={`${trackId}-eq3--mid`}\n        label={'MID'}\n        step={1}\n        min={DECIBEL_MIN}\n        max={DECIBEL_MAX}\n        initialValue={node.get().mid ?? 0}\n        onChange={(val, time) => node.mid.rampTo(val, time)}\n      />\n      <SliderControl\n        id={`${trackId}-eq3--high`}\n        label={'HIG'}\n        step={1}\n        min={DECIBEL_MIN}\n        max={DECIBEL_MAX}\n        initialValue={node.get().high ?? 0}\n        onChange={(val, time) => node.high.rampTo(val, time)}\n      />\n      <SliderControl\n        id={`${trackId}-eq3--low-frequency`}\n        label={'LPF'}\n        step={10}\n        min={FREQUENCY_MIN}\n        max={FREQUENCY_MAX}\n        initialValue={node.get().lowFrequency ?? 1000}\n        onChange={(val, time) => node.lowFrequency.rampTo(val, time)}\n      />\n      <SliderControl\n        id={`${trackId}-eq3--high-frequency`}\n        label={'HPF'}\n        step={10}\n        min={FREQUENCY_MIN}\n        max={FREQUENCY_MAX}\n        initialValue={node.get().highFrequency ?? 1000}\n        onChange={(val, time) => node.highFrequency.rampTo(val, time)}\n      />\n    </>\n  )\n})\n\nexport default Eq3Controls\n","import React, { memo } from 'react'\n\nimport { FREQUENCY_MIN, FREQUENCY_MAX } from '../../../utils/constants'\nimport { SliderControl } from '../../controllers'\n\nconst FilterControls = memo(({ trackId, node }) => {\n  if (!trackId || !node) return null\n\n  return (\n    <SliderControl\n      id={`${trackId}-filter--frequency`}\n      label={'FRQ'}\n      step={10}\n      min={FREQUENCY_MIN}\n      max={FREQUENCY_MAX}\n      initialValue={node.get().frequency ?? 1000}\n      onChange={(val, time = 0.0) => node.frequency.rampTo(val, time)}\n    />\n  )\n})\n\nexport default FilterControls\n","import React, { memo } from 'react'\n\nimport { DECIBEL_MIN, DECIBEL_MAX } from '../../../utils/constants'\nimport { SliderControl } from '../../controllers'\n\nconst LimiterControls = memo(({ trackId, node }) => {\n  if (!trackId || !node) return null\n\n  return (\n    <SliderControl\n      id={`${trackId}-limiter--threshold`}\n      label={'LIM'}\n      step={1}\n      min={DECIBEL_MIN}\n      max={DECIBEL_MAX}\n      initialValue={node.get().threshold ?? 0}\n      onChange={(val) => node.set({ threshold: val })}\n    />\n  )\n})\n\nexport default LimiterControls\n","import React, { memo } from 'react'\n\nimport {\n  WET_STEP,\n  WET_DECIMALS,\n  WET_MIN,\n  WET_MAX,\n} from '../../../utils/constants'\nimport { SliderControl } from '../../controllers'\n\nconst PhaserControls = memo(({ trackId, node }) => {\n  if (!trackId || !node) return null\n\n  return (\n    <SliderControl\n      id={`${trackId}-phaser--wet`}\n      label={'PHS'}\n      step={WET_STEP}\n      min={WET_MIN}\n      max={WET_MAX}\n      toFixed={WET_DECIMALS}\n      initialValue={node.get().wet ?? 0}\n      onChange={(val) => node.set({ wet: val })}\n    />\n  )\n})\n\nexport default PhaserControls\n","import React, { memo } from 'react'\n\nimport { SliderControl } from '../../controllers'\n\nconst PitchShiftControls = memo(({ trackId, node }) => {\n  if (!trackId || !node) return null\n\n  return (\n    <SliderControl\n      id={`${trackId}-pitchshift--pitch`}\n      label={'PCH'}\n      step={12}\n      min={-48}\n      max={48}\n      initialValue={node.get().pitch ?? 0}\n      onChange={(val) => node.set({ pitch: val })}\n    />\n  )\n})\n\nexport default PitchShiftControls\n","import React, { memo } from 'react'\n\nimport {\n  WET_STEP,\n  WET_DECIMALS,\n  WET_MIN,\n  WET_MAX,\n} from '../../../utils/constants'\nimport { SliderControl } from '../../controllers'\n\nconst ReverbControls = memo(({ trackId, node }) => {\n  if (!trackId || !node) return null\n\n  return (\n    <SliderControl\n      id={`${trackId}-reverb--wet`}\n      label={'REV'}\n      step={WET_STEP}\n      min={WET_MIN}\n      max={WET_MAX}\n      toFixed={WET_DECIMALS}\n      initialValue={node.get().wet ?? 0}\n      onChange={(val) => node.set({ wet: val })}\n    />\n  )\n})\n\nexport default ReverbControls\n","import React, { memo } from 'react'\n\nimport { SliderControl } from '../../controllers'\n\nconst StereoWidenerControls = memo(({ trackId, node }) => {\n  if (!trackId || !node) return null\n\n  return (\n    <SliderControl\n      id={`${trackId}-stereowidener--width`}\n      label={'STW'}\n      toFixed={1}\n      initialValue={node.get().width ?? 0}\n      onChange={(val) => node.set({ width: val })}\n    />\n  )\n})\n\nexport default StereoWidenerControls\n","import React, { memo, forwardRef } from 'react'\nimport { isString } from 'utils/typeCheck'\n\nimport BitCrusherControls from '../BitCrusherControls'\nimport CompressorControls from '../CompressorControls'\nimport DelayControls from '../DelayControls'\nimport DistortionControls from '../DistortionControls'\nimport EnvelopeControls from '../EnvelopeControls'\nimport Eq3Controls from '../Eq3Controls'\nimport FilterControls from '../FilterControls'\nimport LimiterControls from '../LimiterControls'\nimport PhaserControls from '../PhaserControls'\nimport PitchShiftControls from '../PitchShiftControls'\nimport ReverbControls from '../ReverbControls'\nimport StereoWidenerControls from '../StereoWidenerControls'\n\nexport const ControlHandler = memo(\n  forwardRef(({ trackId, name, node }, ref) => {\n    if (!isString(trackId) || !isString(name) || !node) {\n      return null\n    }\n\n    //const Component = `${name}Controls`;\n\n    switch (name) {\n      case 'BitCrusher':\n        return <BitCrusherControls trackId={trackId} node={node} />\n      case 'Compressor':\n        return <CompressorControls trackId={trackId} node={node} />\n      case 'Distortion':\n        return <DistortionControls trackId={trackId} node={node} />\n      case 'Envelope':\n        return <EnvelopeControls trackId={trackId} node={node} />\n      case 'EQ3':\n        return <Eq3Controls trackId={trackId} node={node} />\n      case 'FeedbackDelay':\n        return <DelayControls trackId={trackId} node={node} />\n      case 'Filter':\n        return <FilterControls trackId={trackId} node={node} />\n      case 'Limiter':\n        return <LimiterControls trackId={trackId} node={node} />\n      case 'Phaser':\n        return <PhaserControls trackId={trackId} node={node} />\n      case 'PitchShift':\n        return <PitchShiftControls trackId={trackId} node={node} />\n      case 'Reverb':\n        return <ReverbControls trackId={trackId} node={node} />\n      case 'StereoWidener':\n        return <StereoWidenerControls trackId={trackId} node={node} />\n      default:\n        return null\n    }\n  })\n)\n","import React, { memo, forwardRef } from 'react'\nimport PropTypes from 'prop-types'\n\nimport './styles.css'\n\nconst Track = memo(\n  forwardRef(({ children, trackId }, ref) => {\n    return (\n      <div id={trackId} data-trackid={trackId} className={'track'}>\n        {children}\n      </div>\n    )\n  })\n)\n\nexport default Track\n\nTrack.propTypes = {\n  trackId: PropTypes.string.isRequired,\n}\n","function linearStep(from, to, x, useClamp) {\n  return useClamp ? clamp(from, to, x) : x\n}\n\nfunction clamp(from, to, x) {\n  let val = x\n  if (val < from) val = from\n  if (val > to) val = to\n\n  return val\n}\n\nexport const interpolate = ({\n  from = [0, 100],\n  to = [0, 100],\n  clamp = true,\n}) => {\n  function makeInterpolationFunc(\n    x,\n    { from: [minX, maxX] = from, to: [minY, maxY] = to } = {}\n  ) {\n    const slope = (maxY - minY) / (maxX - minX)\n\n    const a = -slope * minX + minY\n\n    const res = slope * x + a\n\n    return linearStep(minY, maxY, res, clamp)\n  }\n\n  return makeInterpolationFunc\n}\n","import { interpolate } from './interpolate'\n\nexport const toPercent = (from = [0, 100], val) => {\n  const interpolatedValue = interpolate({ from })\n  return Math.round(interpolatedValue(val))\n}\n","import { interpolate } from './interpolate'\n\nexport const fromPercent = (to = [0, 100], val, toFixed = 0) => {\n  const interpolatedValue = interpolate({ to })\n  return interpolatedValue(val)\n}\n","import React, { memo } from 'react'\nimport cx from 'classnames'\n\nimport './styles.css'\n\nimport { fromPercent, toPercent } from 'utils/studioHelpers'\nimport { VOL_MIN, VOL_MAX } from '../../utils/constants'\n\nimport { ChevronIcon } from '../icon'\nimport Button from '../button'\nimport { ButtonControl, ControllerGroup, SliderControl } from '../controllers'\n\nconst TrackControls = memo(({ trackId, trackNumber, channel, play }) => {\n  if (!trackId || !channel) return null\n\n  return (\n    <div id={`${trackId}-controls`} className={`track-controls`}>\n      <ControllerGroup>\n        {trackNumber ? (\n          <Button id={`${trackId}-sample`} size={32} onClick={play}>\n            {trackNumber}\n          </Button>\n        ) : null}\n        <Button\n          className={cx({ alert: channel.muted })}\n          size={32}\n          value={'off'}\n          onClick={(e) => {\n            const val = e.target.value\n            channel.set({\n              mute: val === 'off',\n            })\n            e.target.setAttribute('value', val === 'off' ? 'on' : 'off')\n            e.target.classList.toggle('alert')\n          }}\n        >\n          M\n        </Button>\n        <Button\n          size={32}\n          value={'off'}\n          onClick={(e) => {\n            const val = e.target.value\n            document\n              .querySelector(`#${trackId}-sequencer`)\n              .setAttribute('data-random', val === 'off' ? 'on' : 'off')\n            e.target.setAttribute('value', val === 'off' ? 'on' : 'off')\n            e.target.classList.toggle('alert')\n          }}\n        >\n          R\n        </Button>\n        <SliderControl\n          id={`${trackId}-random-value`}\n          orient={'horizontal'}\n          label={'RAN'}\n          step={0.01}\n          min={0.6}\n          max={1}\n          toFixed={2}\n          initialValue={0.8}\n          onChange={(val) => {\n            document\n              .querySelector(`#${trackId}-sequencer`)\n              .setAttribute('data-random-value', val)\n          }}\n        />\n      </ControllerGroup>\n      <ControllerGroup>\n        <ButtonControl\n          id={`${trackId}-volume`}\n          orient={'horizontal'}\n          label={'VOL'}\n          initialValue={\n            toPercent([VOL_MIN, VOL_MAX], channel.get().volume) ?? 0\n          }\n          onChange={(val) =>\n            channel.set({\n              volume: fromPercent([VOL_MIN, VOL_MAX], val),\n            })\n          }\n        />\n        <ButtonControl\n          id={`${trackId}-pan`}\n          orient={'horizontal'}\n          label={'PAN'}\n          step={0.1}\n          min={-1}\n          max={1}\n          toFixed={1}\n          initialValue={channel.get().pan ?? 0}\n          onChange={(val) => channel.set({ pan: val })}\n        />\n        <Button\n          size={36}\n          onClick={(e) => {\n            document\n              .querySelector(`#${trackId}-effects`)\n              ?.classList.toggle('hidden')\n            e.target.classList.toggle('rotated')\n          }}\n        >\n          <ChevronIcon width={'60%'} />\n        </Button>\n      </ControllerGroup>\n    </div>\n  )\n})\n\nexport default TrackControls\n","/**\n * Console logs for dev environment\n *\n * e.g. `consoleLog(\"Invalid arguments\", arguments);`\n *\n * @param args\n * @constructor\n */\nconst consoleLog = (...args) => {\n  if (process.env.NODE_ENV !== 'production') {\n    console.log(...args)\n  }\n}\n\nexport default consoleLog\n","export const random = (min, max) => {\n  let rand = Math.random()\n\n  if (typeof min === 'undefined') {\n    return rand\n  } else if (typeof max === 'undefined') {\n    if (min instanceof Array) {\n      return min[Math.floor(rand * min.length)]\n    } else {\n      return rand * min\n    }\n  } else {\n    if (min > max) {\n      const tmp = min\n      min = max\n      max = tmp\n    }\n\n    return rand * (max - min) + min\n  }\n}\n","import { Draw } from 'tone'\nimport consoleLog from 'utils/errorHandlers/consoleLog'\nimport {\n  isArray,\n  isString,\n  isNumber,\n  isFunction,\n  isUndefined,\n} from 'utils/typeCheck'\n\nimport { random } from 'utils/studioHelpers/random'\nimport { RANDOMIZER_MIN, RANDOMIZER_MAX } from 'utils/constants'\nimport { fromPercent, toPercent } from 'utils/studioHelpers'\n\n/**\n * @param {string} trackId\n * @param {array} notes\n * @param {number} numSteps\n * @param {number} time\n * @param {number} step\n * @param {function} onStepOn\n */\nexport const onSequenceStep = (\n  trackId,\n  notes = [],\n  numSteps,\n  time,\n  step,\n  onStepOn\n) => {\n  const errorLog = (...args) => {\n    consoleLog('onSequenceStep,', ...args)\n  }\n\n  if (\n    !isString(trackId) ||\n    !isArray(notes) ||\n    !isNumber(numSteps) ||\n    !isNumber(time) ||\n    !isNumber(step) ||\n    !isFunction(onStepOn)\n  ) {\n    errorLog('invalid args', trackId, notes, numSteps, time, step, onStepOn)\n    return\n  }\n\n  const numRows = notes.length || 1\n\n  let notesToPlay = []\n\n  const velocity = step === 0 ? 1 : 0.75\n  // const velocity = random(0.5, 1);\n\n  for (let row = 0; row < numRows; row++) {\n    const sequencer = document.querySelector(`#${trackId}-sequencer`)\n    if (isUndefined(sequencer)) {\n      return\n    }\n\n    const randomValue = sequencer.getAttribute('data-randomize')\n\n    // Randomizes only steps whose value is on\n    const isOn =\n      isStepOn(trackId, row, step) &&\n      random(0, 1) >= parseInt(randomValue) / 100\n\n    // Ignores step value, each step is randomized\n    // const isOn = randomValue > 0\n    //   ? random(0, 1) > fromPercent([RANDOMIZER_MIN, RANDOMIZER_MAX], 100 - parseInt(randomValue))\n    //   : isStepOn(trackId, row, step);\n\n    // Only step value\n    // const isOn = isStepOn(trackId, row, step)\n\n    if (isOn) {\n      if (!notes.length) {\n        onStepOn(undefined, velocity)\n      } else {\n        const note = notes[row]\n        notesToPlay.push(note)\n      }\n    }\n  }\n\n  if (notesToPlay.length) {\n    onStepOn(notesToPlay, velocity)\n  }\n\n  Draw.schedule(() => {\n    drawSteps(trackId, numSteps, step)\n  }, time)\n}\n\n/**\n * @param {string} trackId\n * @param {number} row\n * @param {number} step\n * @returns {boolean}\n */\nconst isStepOn = (trackId, row, step) => {\n  const errorLog = (...args) => {\n    consoleLog('isStepOn,', ...args)\n  }\n\n  if (!isString(trackId) || !isNumber(row) || !isNumber(step)) {\n    errorLog('invalid args', trackId, row, step)\n    return false\n  }\n\n  const node = document.querySelector(\n    `#${trackId}-sequencer .step.row-${row}-step-${step}`\n  )\n\n  if (isUndefined(node)) {\n    errorLog('node undefined', node)\n    return false\n  }\n\n  const value = node.getAttribute('value')\n\n  if (isUndefined(value)) {\n    errorLog('value undefined', value)\n    return false\n  }\n\n  return value === 'on'\n}\n\n/**\n * @param {string} trackId\n * @param {number} stepTotal\n * @param {number} step\n */\nconst drawSteps = (trackId, stepTotal, step) => {\n  const errorLog = (...args) => {\n    consoleLog('drawSteps,', ...args)\n  }\n\n  if (!isString(trackId) || !isNumber(stepTotal) || !isNumber(step)) {\n    errorLog('invalid args', trackId, stepTotal, step)\n    return\n  }\n\n  const steps = document.getElementsByClassName(`step ${trackId}-step`)\n\n  for (let i = 0; i < steps.length; i++) {\n    const current = (i - step) % stepTotal === 0\n\n    if (current) {\n      steps[i].setAttribute('data-status', 'current')\n    } else {\n      steps[i].setAttribute('data-status', 'idle')\n    }\n  }\n}\n\n/**\n * Returns an array of sequential numbers from 0 to given length\n *\n * @param {number} length Length of array to return\n * @returns {array}\n */\nexport const newArray = (length) => {\n  const array = []\n  for (let i = 0; i < length; i++) {\n    array.push(i)\n  }\n  return array\n}\n","import React, { memo } from 'react'\nimport { isString, isNumber, isUndefined } from 'utils/typeCheck'\n\nconst Step = memo(({ trackId, stepValue, rowIndex, stepIndex }) => {\n  if (!isString(trackId) || !isNumber(rowIndex) || !isNumber(stepIndex)) {\n    return null\n  }\n\n  const handleClick = (e) => {\n    const target = e.currentTarget\n    const value = target.value\n\n    if (!isUndefined(value)) {\n      target.setAttribute('value', value === 'off' ? 'on' : 'off')\n    }\n  }\n\n  return (\n    <button\n      className={`step ${trackId}-step row-${rowIndex}-step-${stepIndex}`}\n      value={stepValue ? 'on' : 'off'}\n      data-status={'idle'}\n      onClick={handleClick}\n    >\n      <svg\n        className={'step-icon off'}\n        xmlns={'http://www.w3.org/2000/svg'}\n        viewBox={'0 0 30 30'}\n      >\n        <circle cx={'15'} cy={'15'} r={'1'} />\n        {/*<rect x={'0'} y={'0'} width={30} height={30} />*/}\n      </svg>\n      <svg\n        className={'step-icon on'}\n        xmlns={'http://www.w3.org/2000/svg'}\n        viewBox={'0 0 30 30'}\n      >\n        <rect width={30} height={30} />\n        {/*<polyline points={'0,0 30,30'} stroke={'black'} strokeWidth={'0.1'} />*/}\n        {/*<polyline points={'30,0 0,30'} stroke={'black'} strokeWidth={'0.1'} />*/}\n        {/*<circle cx={15} cy={15} r={1} fill={'black'} opacity={0.2} />*/}\n      </svg>\n    </button>\n  )\n})\n\nexport default Step\n","import React, { memo, useEffect, useRef } from 'react'\nimport { Sequence } from 'tone'\n\nimport { isArray, isString, isNumber } from 'utils/typeCheck'\n\nimport './styles.css'\n\nimport { onSequenceStep, newArray } from './utils'\n\nimport Step from './step'\nimport { SliderControl } from '../controllers'\n\nconst StepSequencer = memo(\n  ({ trackId, notes, stepCount = 16, steps, onStep }) => {\n    if (!isString(trackId) || !isNumber(stepCount) || !isArray(steps)) {\n      return null\n    }\n\n    const noteInterval = `${stepCount}n`\n    const noteIndices = newArray(stepCount)\n\n    const handleOnSequenceStep = (time, column) => {\n      onSequenceStep(\n        trackId,\n        notes,\n        stepCount,\n        time,\n        column,\n        (notesToPlay, velocity) =>\n          onStep(notesToPlay, noteInterval, time, velocity)\n      )\n    }\n\n    /* Sequencer */\n    const sequenceRef = useRef(\n      new Sequence(handleOnSequenceStep, noteIndices, noteInterval).start(0)\n    )\n\n    useEffect(() => {\n      return () => {\n        if (sequenceRef.current) {\n          sequenceRef.current.dispose()\n        }\n      }\n    }, [])\n\n    return (\n      <div\n        id={`${trackId}-sequencer`}\n        className={`sequencer`}\n        data-randomize={0}\n      >\n        <div className={'sequencer-randomizer'}>\n          <SliderControl\n            label={'RAN'}\n            step={1}\n            min={0}\n            max={100}\n            initialValue={0}\n            onChange={(val) => {\n              document\n                .querySelector(`#${trackId}-sequencer`)\n                .setAttribute('data-randomize', val)\n            }}\n          />\n        </div>\n        <div className={'sequencer-steps'}>\n          {steps.map((rowData, rowIndex) => {\n            if (!isArray(rowData)) {\n              return null\n            }\n\n            return (\n              <div\n                key={rowIndex}\n                style={{\n                  gridTemplateColumns: `repeat(${stepCount},1fr)`,\n                }}\n                className={`steps ${trackId}-steps-${rowIndex}`}\n              >\n                {rowData.map((stepValue, stepIndex) => {\n                  return (\n                    <Step\n                      key={stepIndex}\n                      trackId={trackId}\n                      stepValue={stepValue}\n                      rowIndex={rowIndex}\n                      stepIndex={stepIndex}\n                    />\n                  )\n                })}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\n\nexport default StepSequencer\n","import React, { memo } from 'react'\n\nimport './styles.css'\n\nconst TrackEffects = memo(({ children, trackId }) => {\n  return (\n    <div id={`${trackId}-effects`} className={'track-effects'}>\n      {children}\n    </div>\n  )\n})\n\nexport default TrackEffects\n","import React, { memo } from 'react'\n\nimport './styles.css'\n\nconst EffectsGroup = memo(({ style = {}, children, span, title = '' }) => {\n  return (\n    <div style={{ gridColumn: span, ...style }} className={'effects-group'}>\n      <div className={'controls'}>{children}</div>\n      {title ? (\n        <div className={'label'}>\n          <div />\n          <span>{title}</span>\n          <div />\n        </div>\n      ) : null}\n    </div>\n  )\n})\n\nexport default EffectsGroup\n","import React, { memo, forwardRef } from 'react'\nimport PropTypes from 'prop-types'\n\nimport { useEventListener, useSound } from 'hooks'\n\nimport {\n  channelTypes,\n  instrumentTypes,\n  notesTypes,\n  stepsTypes,\n} from '../../utils/types'\n\nimport { ControlHandler } from '../controls'\nimport EnvelopeControls from '../controls/EnvelopeControls'\nimport Track from '../trackContainer'\nimport TrackControls from '../trackControls'\nimport StepSequencer from '../stepSequencer'\nimport { TrackEffects, EffectsGroup } from '../trackEffects'\n\nconst StudioTrack = memo(\n  forwardRef(\n    (\n      {\n        index,\n        trackId,\n        channel,\n        instrument,\n        notes,\n        stepCount,\n        steps,\n        effects,\n        controls,\n      },\n      ref\n    ) => {\n      const sound = useSound(channel, instrument, effects)\n\n      useEventListener((e) => {\n        if (parseInt(e.key) === index + 1) {\n          if (e.shiftKey) {\n            // const steps = document.querySelectorAll(`.t00${e.key}-step`);\n            // if (!e.altKey) {\n            //   steps.forEach(step => step.setAttribute('value', 'on'));\n            // } else {\n            //   steps.forEach(step => step.setAttribute('value', 'off'));\n            // }\n          } else {\n            document.querySelector(`#${trackId}`)?.scrollIntoView()\n            //document.querySelector(`#${trackId}-sample`)?.focus();\n          }\n        }\n      })\n\n      return (\n        <Track trackId={trackId}>\n          <TrackControls\n            trackId={trackId}\n            trackNumber={index + 1}\n            channel={sound.channel}\n          />\n          <StepSequencer\n            trackId={trackId}\n            notes={notes}\n            stepCount={stepCount}\n            steps={steps}\n            onStep={sound.trigger}\n          />\n          <TrackEffects trackId={trackId}>\n            {Object.entries(controls ?? {}).map(([group, value], i) => {\n              return (\n                <EffectsGroup key={i} span={value.span} title={group}>\n                  {value.effects.map((name, i) => {\n                    const node = sound.effects.find(\n                      (effect) => effect.name === name\n                    )\n                    if (node) {\n                      return (\n                        <ControlHandler\n                          key={i}\n                          trackId={trackId}\n                          name={name}\n                          node={node}\n                        />\n                      )\n                    } else {\n                      return null\n                    }\n                  })}\n                </EffectsGroup>\n              )\n            })}\n            <EffectsGroup span={'17 / span 4'} title={'envelope'}>\n              <EnvelopeControls\n                trackId={trackId}\n                initialValue={sound.synth?.envelope?.get()}\n                onChange={(val) => sound.synth.envelope.set(val)}\n              />\n            </EffectsGroup>\n          </TrackEffects>\n        </Track>\n      )\n    }\n  )\n)\n\nexport default StudioTrack\n\nStudioTrack.propTypes = {\n  trackId: PropTypes.string.isRequired,\n  index: PropTypes.number.isRequired,\n  instrument: instrumentTypes,\n  stepCount: PropTypes.number.isRequired,\n  channel: channelTypes,\n  notes: notesTypes,\n  steps: stepsTypes,\n  effects: PropTypes.object.isRequired,\n  controls: PropTypes.object.isRequired,\n}\n","import React, { useEffect, useRef, createContext } from 'react'\nimport {\n  Transport,\n  Destination,\n  Recorder,\n  getTransport,\n  getContext,\n  start,\n} from 'tone'\n\nexport const MasterContext = createContext()\nimport { useEventListener } from 'hooks'\n\nconst MasterProvider = ({ children }) => {\n  useEffect(() => {\n    Transport.scheduleRepeat((time) => {\n      const beatIndex = Transport.position.indexOf(':')\n      const beat = Transport.position.substring(beatIndex + 1, beatIndex + 2)\n      document.getElementById('beat').style.width =\n        100 / Transport.timeSignature + '%'\n      document.getElementById('beat').style.left = 25 * beat + '%'\n    }, Transport.timeSignature + 'n')\n  }, [])\n\n  const recorder = useRef(new Recorder({ mimeType: 'video/webm' }))\n\n  useEffect(() => {\n    if (recorder.current) {\n      Destination.connect(recorder.current)\n    }\n\n    return () => {\n      if (recorder.current) {\n        recorder.current.dispose()\n      }\n\n      if (Transport) {\n        Transport.dispose()\n      }\n\n      if (Destination) {\n        Destination.dispose()\n      }\n    }\n  }, [])\n\n  useEventListener((e) => {\n    const code = e.code\n    switch (code) {\n      case 'KeyM':\n        Destination.set({ mute: !Destination.mute })\n        break\n      default:\n        break\n    }\n  })\n\n  const handlePlay = async (e) => {\n    const target = e.currentTarget\n\n    if (getContext().state !== 'running') {\n      await start()\n    }\n\n    console.log('audio context is', getContext().state)\n    const master = document.querySelector('#master')\n    if (!master) return\n\n    if (getTransport().state === 'stopped') {\n      // Start playback\n      Transport.start()\n      target.setAttribute('value', 'on')\n      master.setAttribute('data-playback', 'started')\n      console.log('transport is', getTransport().state)\n      console.log(master.getAttribute('data-recorder'), recorder.current.state)\n      switch (master.getAttribute('data-recorder')) {\n        case 'stand-by':\n          recorder.current.start().then(() => {\n            master.setAttribute('data-recorder', 'on')\n            console.log('recorder is', recorder.current.state)\n          })\n          break\n        default:\n          break\n      }\n    }\n  }\n\n  const handleStop = () => {\n    const master = document.querySelector('#master')\n    if (!master) return\n\n    const play = document.querySelector('#master button.play')\n    if (!play) return\n\n    if (getTransport().state === 'started') {\n      Transport.stop()\n      master.setAttribute('data-playback', 'stopped')\n      play.setAttribute('value', 'off')\n      console.log('transport is', getTransport().state)\n    } else if (getTransport().state === 'stopped') {\n      switch (master.getAttribute('data-recorder')) {\n        case 'stand-by':\n          master.setAttribute('data-recorder', 'off')\n          break\n        case 'on':\n          master.setAttribute('data-recorder', 'off')\n          handleStopRecorder()\n          break\n        default:\n          break\n      }\n    }\n  }\n\n  const handleRecord = (e) => {\n    const master = document.querySelector('#master')\n    if (!master) return\n\n    if (getTransport().state === 'stopped') {\n      switch (master.getAttribute('data-recorder')) {\n        case 'off':\n          master.setAttribute('data-recorder', 'stand-by')\n          break\n        case 'stand-by':\n          master.setAttribute('data-recorder', 'off')\n          break\n        case 'on':\n          master.setAttribute('data-recorder', 'off')\n          handleStopRecorder()\n          break\n        default:\n          break\n      }\n    }\n  }\n\n  const handleStopRecorder = async () => {\n    const recording = await recorder.current.stop()\n    console.log('recorder is', recorder.current.state)\n    const url = URL.createObjectURL(recording)\n    const anchor = document.createElement('a')\n    anchor.download = 'recording.webm'\n    anchor.href = url\n    anchor.click()\n  }\n\n  return (\n    <MasterContext.Provider\n      value={{\n        play: handlePlay,\n        stop: handleStop,\n        record: handleRecord,\n      }}\n    >\n      {children}\n    </MasterContext.Provider>\n  )\n}\n\nexport default MasterProvider\n","import React from 'react'\nimport { Destination, Transport } from 'tone'\n\nimport './index.css'\n\nimport { BPM_MIN, BPM_MAX, VOL_MIN, VOL_MAX } from '../../../utils/constants'\nimport { fromPercent, toPercent } from 'utils/studioHelpers'\n\nimport Button from 'components/button'\nimport { CircleIcon, PlayIcon, SquareIcon } from 'components/icon'\nimport useMasterContext from '../useMasterContext'\nimport {\n  ButtonControl,\n  ControllerGroup,\n  SliderControl,\n} from '../../controllers'\n\nconst Master = ({ volume, bpm }) => {\n  const { play, stop, record } = useMasterContext('<Master>')\n\n  return (\n    <section id={'master'} data-playback={'stopped'} data-recorder={'off'}>\n      <div className={'master__status'}>\n        <div id={'beat'} />\n      </div>\n      <div className={'master__controls'}>\n        <SliderControl\n          id={'master-volume'}\n          orient={'horizontal'}\n          label={'VOL'}\n          step={1}\n          max={100}\n          initialValue={toPercent([VOL_MIN, VOL_MAX], volume) ?? 0}\n          onChange={(val) =>\n            Destination.set({\n              volume: fromPercent([VOL_MIN, VOL_MAX], val),\n            })\n          }\n        />\n        <ControllerGroup id={'playback-controls'}>\n          <Button\n            className={'playback record'}\n            title={'record'}\n            value={'off'}\n            onClick={record}\n          >\n            <CircleIcon />\n          </Button>\n          <Button\n            className={'playback play'}\n            title={'play'}\n            value={'off'}\n            onClick={play}\n          >\n            <PlayIcon />\n          </Button>\n          <Button\n            className={'playback stop'}\n            title={'stop'}\n            value={'on'}\n            onClick={stop}\n          >\n            <SquareIcon />\n          </Button>\n        </ControllerGroup>\n        <ButtonControl\n          id={'master-bpm'}\n          orient={'horizontal'}\n          label={'BPM'}\n          min={BPM_MIN}\n          max={BPM_MAX}\n          initialValue={bpm ?? 120}\n          onChange={(val) => Transport.set({ bpm: val })}\n        />\n      </div>\n    </section>\n  )\n}\n\nexport default Master\n","import { useContext } from 'react'\n\nimport { MasterContext } from '../masterProvider'\n\nconst useMasterContext = (component) => {\n  const context = useContext(MasterContext)\n  if (!context) {\n    throw new Error(\n      `Master components must be rendered within the MasterProvider component. Error occurred in the ${component} component.`\n    )\n  }\n\n  return context\n}\n\nexport default useMasterContext\n","import React, { memo, useRef, forwardRef, createRef } from 'react'\nimport PropTypes from 'prop-types'\nimport { Midi as ToneMidi } from '@tonejs/midi'\n\nimport './styles.css'\n\nimport {\n  channelTypes,\n  instrumentTypes,\n  notesTypes,\n  stepsTypes,\n} from '../../utils/types'\n\n// simple chromatic scale, doubles in bpm every 4 notes (at ticks 0, 384, 768)\nconst midi = {\n  header: {\n    keySignatures: [],\n    meta: [],\n    name: '\\u0000',\n    ppq: 96,\n    tempos: [\n      {\n        ticks: 0,\n        bpm: 80,\n      },\n      {\n        ticks: 384,\n        bpm: 160,\n      },\n      {\n        ticks: 768,\n        bpm: 320,\n      },\n    ],\n    timeSignatures: [\n      {\n        ticks: 0,\n        timeSignature: [4, 4],\n        measures: 0,\n      },\n      {\n        ticks: 0,\n        timeSignature: [4, 4],\n        measures: 0,\n      },\n    ],\n  },\n  tracks: [\n    {\n      channel: 0,\n      controlChanges: {},\n      pitchBends: [],\n      instrument: {\n        family: 'piano',\n        number: 0,\n        name: 'acoustic grand piano',\n      },\n      name: '\\u0000',\n      notes: [\n        {\n          duration: 0.5,\n          durationTicks: 96,\n          midi: 60,\n          name: 'C4',\n          ticks: 0,\n          time: 0,\n          velocity: 0.7874015748031497,\n        },\n        {\n          duration: 0.5,\n          durationTicks: 96,\n          midi: 61,\n          name: 'C#4',\n          ticks: 96,\n          time: 0.5,\n          velocity: 0.7874015748031497,\n        },\n        {\n          duration: 0.5,\n          durationTicks: 96,\n          midi: 62,\n          name: 'D4',\n          ticks: 192,\n          time: 1,\n          velocity: 0.7874015748031497,\n        },\n        {\n          duration: 0.5,\n          durationTicks: 96,\n          midi: 63,\n          name: 'D#4',\n          ticks: 288,\n          time: 1.5,\n          velocity: 0.7874015748031497,\n        },\n        {\n          duration: 0.5,\n          durationTicks: 96,\n          midi: 64,\n          name: 'E4',\n          ticks: 384,\n          time: 2,\n          velocity: 0.7874015748031497,\n        },\n        {\n          duration: 0.5,\n          durationTicks: 96,\n          midi: 65,\n          name: 'F4',\n          ticks: 480,\n          time: 2.5,\n          velocity: 0.7874015748031497,\n        },\n        {\n          duration: 0.5,\n          durationTicks: 96,\n          midi: 66,\n          name: 'F#4',\n          ticks: 576,\n          time: 3,\n          velocity: 0.7874015748031497,\n        },\n        {\n          duration: 0.5,\n          durationTicks: 96,\n          midi: 67,\n          name: 'G4',\n          ticks: 672,\n          time: 3.5,\n          velocity: 0.7874015748031497,\n        },\n        {\n          duration: 0.5,\n          durationTicks: 96,\n          midi: 68,\n          name: 'G#4',\n          ticks: 768,\n          time: 4,\n          velocity: 0.7480314960629921,\n        },\n        {\n          duration: 0.5,\n          durationTicks: 96,\n          midi: 69,\n          name: 'A4',\n          ticks: 864,\n          time: 4.5,\n          velocity: 0.7480314960629921,\n        },\n        {\n          duration: 0.5,\n          durationTicks: 96,\n          midi: 70,\n          name: 'A#4',\n          ticks: 960,\n          time: 5,\n          velocity: 0.7480314960629921,\n        },\n        {\n          duration: 0.5,\n          durationTicks: 96,\n          midi: 71,\n          name: 'B4',\n          ticks: 1056,\n          time: 5.5,\n          velocity: 0.7480314960629921,\n        },\n      ],\n      endOfTrackTicks: 1152,\n    },\n  ],\n}\n\nconst Midi = memo(\n  forwardRef(({}, ref) => {\n    const tracksRef = useRef(new ToneMidi())\n    //\n    return <div id={'midi'}>midi</div>\n  })\n)\n\nexport default Midi\n\nMidi.propTypes = {\n  trackId: PropTypes.string.isRequired,\n  index: PropTypes.number.isRequired,\n  instrument: instrumentTypes,\n  stepCount: PropTypes.number.isRequired,\n  channel: channelTypes,\n  notes: notesTypes,\n  steps: stepsTypes,\n  effects: PropTypes.object.isRequired,\n  controls: PropTypes.object.isRequired,\n}\n","import { SCALE_A_MINOR, STEPS_DEFAULT } from '../utils/constants'\n\nconst sound = {\n  notes: SCALE_A_MINOR.slice(0, 6),\n  get steps() {\n    let arr = []\n    for (let i = 0; i < this.notes.length; i++) {\n      arr.push(...STEPS_DEFAULT)\n    }\n    return arr\n  },\n}\n\nexport const tracks = {\n  bass01: {\n    id: 'bass01',\n    type: 'poly',\n    channel: {\n      pan: 0.4,\n      volume: 4,\n      mute: false,\n    },\n    stepCount: 16,\n    ...sound,\n    instrument: {\n      synth: 'PolySynth',\n      options: {\n        maxPolyphony: 6, // number of notes\n        volume: -10,\n        envelope: {\n          attack: 0.01,\n          decay: 0.2,\n          sustain: 0.3,\n          release: 1.6,\n        },\n        voice0: {\n          oscillator: {\n            type: 'triangle4',\n          },\n          volume: -30,\n          envelope: {\n            attack: 0.005,\n            release: 0.05,\n            sustain: 1,\n          },\n        },\n        voice1: {\n          volume: -10,\n          envelope: {\n            attack: 0.005,\n            release: 0.05,\n            sustain: 1,\n          },\n        },\n      },\n    },\n    effects: new Map([\n      ['Reverb', { decay: 4, preDelay: 0.2, wet: 0.08 }],\n      [\n        'EQ3',\n        {\n          low: 0,\n          mid: -10,\n          high: 4,\n          lowFrequency: 1320,\n          highFrequency: 5380,\n        },\n      ],\n      ['PitchShift', { pitch: -12 }],\n      [\n        'Distortion',\n        {\n          distortion: 0.6,\n          oversample: '4x',\n          wet: 0.72,\n        },\n      ],\n      ['Gate', { threshold: -40, smoothing: 0.2 }],\n      ['Limiter', { threshold: 0 }],\n    ]),\n    controls: {\n      eq3: { span: '1 / span 5', effects: ['EQ3'] },\n      effects: {\n        span: '6 / span 2',\n        effects: ['Distortion', 'Reverb'],\n      },\n    },\n  },\n}\n","//https://howtomakeelectronicmusic.com/eq-frequency-chart-for-electronic-music/#prettyPhoto/0/\n//https://blog.landr.com/eq-kick-and-bass/\n//https://github.com/Tonejs/Tone.js/issues/416\n\nimport { STEPS_DEFAULT } from '../utils/constants'\n\nconst sound = { notes: [], steps: STEPS_DEFAULT }\n\nexport const tracks = {\n  kick01: {\n    id: 'kick01',\n    type: 'kick',\n    name: 'SUB KICK',\n    ...sound,\n    notes: ['G1'],\n    instrument: {\n      synth: 'MembraneSynth',\n      options: {\n        pitchDecay: 0.01,\n        octaves: 6,\n        oscillator: {\n          type: 'square4',\n        },\n        envelope: {\n          attack: 0.001,\n          decay: 0.45,\n          sustain: 0.1,\n          release: 0.3,\n        },\n      },\n    },\n    effects: new Map([\n      ['Reverb', { decay: 0.2, preDelay: 0.2, wet: 0.05 }],\n      [\n        'Distortion',\n        {\n          distortion: 0.6,\n          oversample: '4x',\n          wet: 0.22,\n        },\n      ],\n      [\n        'Compressor',\n        {\n          threshold: -26,\n          knee: 20,\n          ratio: 4.2,\n          attack: 0.024,\n          release: 0.132,\n        },\n      ],\n      ['Limiter', { threshold: -48 }],\n      [\n        'EQ3',\n        {\n          Q: 1,\n          low: -3,\n          mid: -48,\n          high: -60,\n          lowFrequency: 100,\n          highFrequency: 120,\n        },\n      ],\n    ]),\n    controls: {\n      equaliser: { span: '1 / span 5', effects: ['EQ3'] },\n      compressor: {\n        span: '6 / span 4',\n        effects: ['Compressor'],\n      },\n      limiter: { span: '10 / span 1', effects: ['Limiter'] },\n      effects: {\n        span: '11 / span 2',\n        effects: [],\n        //effects: ['Distortion', 'Reverb']\n      },\n    },\n  },\n  kick02: {\n    id: 'kick02',\n    type: 'kick',\n    name: 'MID KICK',\n    ...sound,\n    notes: ['C1'],\n    instrument: {\n      synth: 'MembraneSynth',\n      options: {\n        pitchDecay: 0.01,\n        octaves: 6,\n        oscillator: {\n          type: 'square4',\n        },\n        envelope: {\n          attack: 0.001,\n          decay: 0.45,\n          sustain: 0.1,\n          release: 0.3,\n        },\n      },\n    },\n    effects: new Map([\n      [\n        'Compressor',\n        {\n          threshold: -21,\n          knee: 20,\n          ratio: 4.2,\n          attack: 0.024,\n          release: 0.132,\n        },\n      ],\n      ['Limiter', { threshold: -12 }],\n      [\n        'EQ3',\n        {\n          Q: 1,\n          low: -3,\n          mid: -24,\n          high: -60,\n          lowFrequency: 160,\n          highFrequency: 420,\n        },\n      ],\n    ]),\n    controls: {\n      eq3: { span: '1 / span 5', effects: ['EQ3'] },\n      compressor: {\n        span: '6 / span 4',\n        effects: ['Compressor'],\n      },\n      limiter: { span: '10 / span 1', effects: ['Limiter'] },\n    },\n  },\n}\n","//https://howtomakeelectronicmusic.com/eq-frequency-chart-for-electronic-music/#prettyPhoto/0/\n//https://blog.landr.com/eq-kick-and-bass/\n//https://github.com/Tonejs/Tone.js/issues/416\n\nimport { STEPS_DEFAULT } from '../utils/constants'\n\nconst sound = { notes: [], steps: STEPS_DEFAULT }\n\nexport const tracks = {\n  HAT01: {\n    id: 'HAT01',\n    type: 'hat',\n    name: '',\n    ...sound,\n    instrument: {\n      synth: 'NoiseSynth',\n      options: {\n        volume: -8,\n        noise: {\n          type: 'white',\n          playbackRate: 5,\n        },\n        envelope: {\n          attack: 0.001,\n          decay: 0.222,\n          sustain: 0.26,\n          release: 0.188,\n        },\n      },\n    },\n    effects: new Map([\n      [\n        'Filter',\n        {\n          Q: 1,\n          detune: 0,\n          frequency: 11600,\n          gain: 0,\n          rolloff: -48,\n          type: 'bandpass',\n        },\n      ],\n      [\n        'EQ3',\n        {\n          low: -60,\n          mid: 0,\n          high: -6,\n          lowFrequency: 6000,\n          highFrequency: 12000,\n        },\n      ],\n    ]),\n    controls: {\n      equaliser: { span: '1 / span 5', effects: ['EQ3'] },\n      filter: { span: '6 / span 1', effects: ['Filter'] },\n    },\n  },\n  HAT02: {\n    id: 'HAT02',\n    type: 'hat',\n    name: '',\n    ...sound,\n    instrument: {\n      synth: 'NoiseSynth',\n      options: {\n        volume: -8,\n        noise: {\n          type: 'white',\n          playbackRate: 5,\n        },\n        envelope: {\n          attack: 0.001,\n          decay: 0.3,\n          sustain: 0.002,\n          release: 0.32,\n        },\n      },\n    },\n    effects: new Map([\n      [\n        'Filter',\n        {\n          Q: 1,\n          detune: 0,\n          frequency: 3700,\n          gain: 0,\n          rolloff: -48,\n          type: 'bandpass',\n        },\n      ],\n      ['Reverb', { decay: 4, preDelay: 0.2, wet: 0.28 }],\n      [\n        'EQ3',\n        {\n          low: -60,\n          mid: 0,\n          high: -6,\n          lowFrequency: 9000,\n          highFrequency: 16000,\n        },\n      ],\n    ]),\n    controls: {\n      equaliser: { span: '1 / span 5', effects: ['EQ3'] },\n      filter: { span: '6 / span 1', effects: ['Filter'] },\n    },\n  },\n}\n","//https://howtomakeelectronicmusic.com/eq-frequency-chart-for-electronic-music/#prettyPhoto/0/\n//https://blog.landr.com/eq-kick-and-bass/\n//https://github.com/Tonejs/Tone.js/issues/416\n\nimport { STEPS_DEFAULT } from '../utils/constants'\n\nconst sound = { notes: [], steps: STEPS_DEFAULT }\n\nexport const tracks = {\n  snare01: {\n    id: 'snare01',\n    type: 'snare',\n    name: '',\n    ...sound,\n    notes: ['C1'],\n    instrument: {\n      synth: 'MetalSynth',\n      options: {\n        harmonicity: 12,\n        resonance: 1000,\n        modulationIndex: 20,\n        volume: -15,\n        envelope: {\n          attack: 1.2,\n          decay: 1,\n          sustain: 0.0,\n          release: 0.067,\n        },\n      },\n    },\n    effects: new Map([\n      ['Reverb', { decay: 4, preDelay: 0.2, wet: 0.22 }],\n      [\n        'FeedbackDelay',\n        {\n          delayTime: 0.25,\n          feedback: 1 / 3,\n          wet: 0.15,\n          maxDelay: 1,\n        },\n      ],\n      ['Distortion', { distortion: 1, oversample: '4x', wet: 0.12 }],\n      ['Gain', { gain: 2 }],\n      [\n        'EQ3',\n        {\n          low: -48,\n          mid: -6,\n          high: -6,\n          lowFrequency: 800,\n          highFrequency: 1600,\n        },\n      ],\n    ]),\n    controls: {\n      equaliser: { span: '1 / span 5', effects: ['EQ3'] },\n      effects: {\n        span: '6 / span 3',\n        effects: ['Distortion', 'Reverb', 'FeedbackDelay'],\n      },\n    },\n  },\n  snare02: {\n    id: 'snare02',\n    type: 'snare',\n    name: '',\n    ...sound,\n    notes: ['C1'],\n    instrument: {\n      synth: 'MetalSynth',\n      options: {\n        harmonicity: 12,\n        resonance: 1000,\n        modulationIndex: 20,\n        volume: -15,\n        envelope: {\n          attack: 1.2,\n          decay: 1,\n          sustain: 0.0,\n          release: 0.067,\n        },\n      },\n    },\n    effects: new Map([\n      ['Reverb', { decay: 4, preDelay: 0.2, wet: 0.8 }],\n      [\n        'FeedbackDelay',\n        {\n          delayTime: 0.25,\n          feedback: 1 / 3,\n          wet: 0.5,\n          maxDelay: 1,\n        },\n      ],\n      ['BitCrusher', { wet: 0.6, bits: 10 }],\n      ['Distortion', { distortion: 1, oversample: '4x', wet: 0.68 }],\n      ['Gain', { gain: 2 }],\n      ['PitchShift', { wet: 0.8, pitch: 0 }],\n      ['StereoWidener', { wet: 0.8, width: 1 }],\n      [\n        'EQ3',\n        {\n          low: -48,\n          mid: 0,\n          high: -12,\n          lowFrequency: 1200,\n          highFrequency: 2400,\n        },\n      ],\n    ]),\n    controls: {\n      equaliser: { span: '1 / span 5', effects: ['EQ3'] },\n      effects: {\n        span: '6 / span 6',\n        effects: [\n          'Distortion',\n          'Reverb',\n          'FeedbackDelay',\n          'PitchShift',\n          'StereoWidener',\n          'BitCrusher',\n        ],\n      },\n    },\n  },\n}\n","import { SCALE_A_MINOR, STEPS_DEFAULT } from '../utils/constants'\n\nconst sound = {\n  notes: SCALE_A_MINOR.slice(0, 6),\n  get steps() {\n    let arr = []\n    for (let i = 0; i < this.notes.length; i++) {\n      arr.push(...STEPS_DEFAULT)\n    }\n    return arr\n  },\n}\n\nexport const tracks = {\n  poly01: {\n    id: 'poly01',\n    type: 'poly',\n    channel: {\n      pan: 0.4,\n      volume: 4,\n      mute: false,\n    },\n    stepCount: 16,\n    ...sound,\n    instrument: {\n      synth: 'PolySynth',\n      options: {\n        maxPolyphony: 6, // number of notes\n        volume: -10,\n        envelope: {\n          attack: 0.01,\n          decay: 0.2,\n          sustain: 0.3,\n          release: 1.6,\n        },\n        voice0: {\n          oscillator: {\n            type: 'triangle4',\n          },\n          volume: -30,\n          envelope: {\n            attack: 0.005,\n            release: 0.05,\n            sustain: 1,\n          },\n        },\n        voice1: {\n          volume: -10,\n          envelope: {\n            attack: 0.005,\n            release: 0.05,\n            sustain: 1,\n          },\n        },\n      },\n    },\n    effects: new Map([\n      ['Reverb', { decay: 4, preDelay: 0.2, wet: 0.08 }],\n      [\n        'EQ3',\n        {\n          low: 0,\n          mid: -10,\n          high: 4,\n          lowFrequency: 1320,\n          highFrequency: 5380,\n        },\n      ],\n      [\n        'Distortion',\n        {\n          distortion: 0.6,\n          oversample: '4x',\n          wet: 0.72,\n        },\n      ],\n      [\n        'Phaser',\n        {\n          frequency: 15,\n          octaves: 5,\n          stages: 10,\n          Q: 10,\n          baseFrequency: 100,\n          wet: 0.0,\n        },\n      ],\n      ['Gate', { threshold: -40, smoothing: 0.2 }],\n      ['Limiter', { threshold: 0 }],\n    ]),\n    controls: {\n      eq3: { span: '1 / span 5', effects: ['EQ3'] },\n      effects: {\n        span: '6 / span 2',\n        effects: ['Distortion', 'Reverb'],\n      },\n      phaser: { span: '8 / span 3', effects: ['Phaser'] },\n    },\n  },\n}\n","import { tracks as bass } from './bass'\nimport { tracks as kicks } from './kicks'\nimport { tracks as hats } from './hats'\nimport { tracks as snares } from './snares'\nimport { tracks as poly } from './poly'\n\nexport const sounds = { ...bass, ...kicks, ...hats, ...snares, ...poly }\n","import React, {\n  Fragment,\n  useRef,\n  createRef,\n  useState,\n  useMemo,\n  useEffect,\n} from 'react'\nimport { Transport, Destination, Meter, UserMedia } from 'tone'\n\nimport './index.css'\n\nimport { SCALE_A_MINOR, TRACK_DEFAULT } from '../../utils/constants'\n\nimport { Footer, Main } from 'components/layout'\nimport StudioTrack from 'components/studioTrack'\nimport { Master } from 'components/master'\nimport Midi from '../../components/midi'\nimport { sounds } from '../../sounds'\nimport ShortcutsLegend from 'components/ShortcutsLegend'\n\nconst song = {\n  t001: { sound: 'kick01' },\n  t002: { sound: 'kick02' },\n  t003: { sound: 'snare01' },\n  t004: { sound: 'snare02' },\n  t005: {\n    sound: 'HAT01',\n    steps: [[1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]],\n  },\n  t006: { sound: 'HAT02' },\n  t007: {\n    sound: 'poly01',\n    notes: SCALE_A_MINOR.slice(0, 6),\n    steps: [\n      [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0],\n      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0],\n      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0],\n      [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0],\n      [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0],\n      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0],\n    ],\n  },\n}\n\nconst Studio = () => {\n  const tracks = Object.entries(song)\n  const tracksRef = useRef(tracks.map(() => createRef()))\n\n  const micRef = useRef(new UserMedia({ volume: 0 }))\n  const selectedDevice = useRef()\n\n  // useEffect(() => {\n  //   const meter = new Meter();\n  //   micRef.current.connect(meter).chain(Destination);\n  //   console.log(micRef.current.get());\n  //   console.log(micRef.current.state);\n  //   //console.log(micRef.current.enumerateDevices());\n  //   navigator.mediaDevices.enumerateDevices().then(devices => {\n  //     // print the device labels\n  //     console.log(devices.map(device => device));\n  //     selectedDevice.current = devices[0].groupId;\n  //   });\n  //\n  //   micRef.current\n  //     .open()\n  //     .then(() => {\n  //       // promise resolves when input is available\n  //       console.log('mic open');\n  //       // print the incoming mic levels in decibels\n  //       setInterval(() => console.log(meter.getValue()), 100);\n  //     })\n  //     .catch(e => {\n  //       // promise is rejected when the user doesn't have or allow mic access\n  //       console.log('mic not open');\n  //     });\n  //   return () => micRef.current.close();\n  // }, []);\n\n  return (\n    <Fragment>\n      <Main id={'studio'}>\n        {/*<Master volume={0} bpm={120} />*/}\n        <section id={'globals'}>\n          <div\n            className={'master-wrapper'}\n            style={{\n              position: 'sticky',\n              top: '16px',\n            }}\n          >\n            <Master volume={0} bpm={120} />\n          </div>\n          <Midi />\n        </section>\n        <section id={'tracks'}>\n          {tracks.map(([trackId, { sound, ...config }], i) => {\n            const track = sounds[sound]\n\n            if (track) {\n              const props = {\n                key: trackId,\n                ref: tracksRef.current[i],\n                index: i,\n                trackId,\n                ...TRACK_DEFAULT,\n                ...track,\n                ...config,\n              }\n\n              switch (track.type) {\n                case 'kick':\n                case 'hat':\n                case 'poly':\n                case 'snare':\n                  return <StudioTrack {...props} />\n                default:\n                  return null\n              }\n            } else {\n              return null\n            }\n          })}\n        </section>\n      </Main>\n      <Footer />\n    </Fragment>\n  )\n}\n\nexport default Studio\n","import React, { memo, useRef } from 'react'\n\nimport { useEventListener } from 'hooks'\n\nconst Step = memo(({ id, onClick }) => {\n  const ref = useRef()\n\n  useEventListener(\n    (e) => {\n      e.target.classList.add('hit')\n    },\n    ref.current,\n    'pointerdown'\n  )\n\n  useEventListener(\n    (e) => {\n      e.target.classList.remove('hit')\n    },\n    ref.current,\n    'pointerup'\n  )\n\n  return (\n    <button ref={ref} id={id} className={`step`} onClick={onClick}>\n      {/*<svg*/}\n      {/*  className={'step-icon'}*/}\n      {/*  xmlns={'http://www.w3.org/2000/svg'}*/}\n      {/*  viewBox={'0 0 30 30'}*/}\n      {/*  width={'100%'}*/}\n      {/*  height={'100%'}*/}\n      {/*>*/}\n      {/*  <circle cx={'15'} cy={'15'} r={'0.5'} fill={'white'} />*/}\n      {/*</svg>*/}\n    </button>\n  )\n})\n\nexport default Step\n","import React, { memo, forwardRef } from 'react'\nimport PropTypes from 'prop-types'\n\nimport { useEventListener, useSound } from 'hooks'\n\nimport { channelTypes, instrumentTypes, notesTypes } from '../../utils/types'\n\nimport Step from './step'\n\nconst BoxTrack = memo(\n  forwardRef(\n    (\n      { index, trackId, channel, instrument, notes, effects, controls },\n      ref\n    ) => {\n      const noteInterval = `16n`\n\n      const { trigger } = useSound(channel, instrument, effects)\n\n      useEventListener((e) => {\n        if (parseInt(e.key) === index + 1) {\n          document.querySelector(`button#${trackId}`).classList.add('hit')\n          handleTrigger()\n        }\n      })\n\n      useEventListener(\n        (e) => {\n          if (parseInt(e.key) === index + 1) {\n            document.querySelector(`button#${trackId}`).classList.remove('hit')\n          }\n        },\n        document.body,\n        'keyup'\n      )\n\n      const handleTrigger = () => {\n        trigger(notes, noteInterval)\n      }\n\n      return <Step id={trackId} onClick={handleTrigger} />\n    }\n  )\n)\n\nexport default BoxTrack\n\nBoxTrack.propTypes = {\n  trackId: PropTypes.string.isRequired,\n  index: PropTypes.number.isRequired,\n  instrument: instrumentTypes,\n  channel: channelTypes,\n  notes: notesTypes,\n  effects: PropTypes.object.isRequired,\n}\n","import React, { useRef, createRef } from 'react'\n\nimport './index.css'\n\nimport { Main } from 'components/layout'\nimport { Master } from 'components/master'\nimport BoxTrack from '../../components/boxTrack'\n\nimport { TRACK_DEFAULT } from '../../utils/constants'\nimport { sounds } from '../../sounds'\n\nconst song = {\n  t001: 'kick01',\n  t002: 'kick02',\n  t003: 'snare01',\n  t004: 'snare02',\n  t005: 'HAT01',\n  t006: 'HAT02',\n}\n\nconst Box = () => {\n  const tracks = Object.entries(song)\n  const tracksRef = useRef(tracks.map(() => createRef()))\n\n  return (\n    <Main id={'studio'}>\n      <Master volume={0} bpm={120} />\n      <section id={'box'}>\n        {tracks.map(([trackId, soundId], i) => {\n          const track = sounds[soundId]\n\n          if (track) {\n            switch (track.type) {\n              case 'kick':\n              case 'hat':\n              case 'snare':\n                return (\n                  <BoxTrack\n                    key={trackId}\n                    ref={tracksRef.current[i]}\n                    index={i}\n                    trackId={trackId}\n                    {...TRACK_DEFAULT}\n                    {...track}\n                  />\n                )\n              default:\n                break\n            }\n          } else {\n            return null\n          }\n        })}\n      </section>\n    </Main>\n  )\n}\n\nexport default Box\n","import React, { memo, forwardRef } from 'react'\nimport PropTypes from 'prop-types'\n//Only instruments that extend the Monophonic class can be used with Tone.PolySynth\n//AMSynth, DuoSynth, FMSynth, MembraneSynth, MetalSynth, Synth\n\nimport { useEventListener, useSound } from 'hooks'\n\nimport {\n  channelTypes,\n  instrumentTypes,\n  notesTypes,\n  stepsTypes,\n} from '../../utils/types'\n\nimport Track from '../trackContainer'\nimport StepSequencer from '../stepSequencer'\nimport { TrackEffects, EffectsGroup } from '../trackEffects'\nimport { ControlHandler } from '../controls/ControlHandler'\nimport EnvelopeControls from '../controls/EnvelopeControls'\n\n//const notes = ['A4', 'D3', 'E3', 'G4', 'F#4'];\nconst notes = ['A3', 'C4', 'D4', 'E4', 'G4', 'A4']\n\n// const delay = useRef(\n//     new FeedbackDelay({\n//       delayTime: `${Math.floor(numCols / 2)}n`,\n//       feedback: 1 / 3,\n//       wet: 0.2\n//     })\n// );\n\nconst PolyTrack = memo(\n  forwardRef(\n    (\n      {\n        index,\n        trackId,\n        channel,\n        instrument,\n        notes,\n        stepCount,\n        steps,\n        effects,\n        controls,\n      },\n      ref\n    ) => {\n      const sound = useSound(channel, instrument, effects)\n\n      useEventListener((e) => {\n        if (parseInt(e.key) === index + 1) {\n          if (e.shiftKey) {\n            // const steps = document.querySelectorAll(`.t00${e.key}-step`);\n            // if (!e.altKey) {\n            //   steps.forEach(step => step.setAttribute('value', 'on'));\n            // } else {\n            //   steps.forEach(step => step.setAttribute('value', 'off'));\n            // }\n          }\n        }\n      })\n\n      return (\n        <Track trackId={trackId}>\n          <StepSequencer\n            trackId={trackId}\n            notes={notes}\n            stepCount={stepCount}\n            steps={steps}\n            onStep={sound.trigger}\n          />\n          <TrackEffects trackId={trackId}>\n            {Object.entries(controls ?? {}).map(([group, value], i) => {\n              return (\n                <EffectsGroup key={i} span={value.span} title={group}>\n                  {value.effects.map((name, i) => {\n                    const node = sound.effects.find(\n                      (effect) => effect.name === name\n                    )\n                    if (node) {\n                      return (\n                        <ControlHandler\n                          key={i}\n                          trackId={trackId}\n                          name={name}\n                          node={node}\n                        />\n                      )\n                    } else {\n                      return null\n                    }\n                  })}\n                </EffectsGroup>\n              )\n            })}\n            <EffectsGroup span={'17 / span 4'} title={'envelope'}>\n              <EnvelopeControls\n                trackId={trackId}\n                initialValue={sound.synth?.get().envelope}\n                onChange={(val) =>\n                  sound.synth.set({\n                    envelope: val,\n                  })\n                }\n              />\n            </EffectsGroup>\n          </TrackEffects>\n        </Track>\n      )\n    }\n  )\n)\n\nexport default PolyTrack\n\nPolyTrack.propTypes = {\n  trackId: PropTypes.string.isRequired,\n  index: PropTypes.number.isRequired,\n  instrument: instrumentTypes,\n  stepCount: PropTypes.number.isRequired,\n  channel: channelTypes,\n  notes: notesTypes,\n  steps: stepsTypes,\n  effects: PropTypes.object.isRequired,\n  controls: PropTypes.object.isRequired,\n}\n","import React, { useRef, createRef } from 'react'\n\nimport './index.css'\n\nimport { SCALE_A_MINOR, TRACK_DEFAULT } from '../../utils/constants'\n\nimport { Main } from 'components/layout'\nimport PolyTrack from 'components/polyTrack'\nimport { Master } from 'components/master'\nimport { sounds } from '../../sounds'\n\nconst songs = {\n  t001: {\n    include: true,\n    sound: 'poly01',\n    notes: SCALE_A_MINOR.slice(0, 6),\n    steps: [\n      [1, 1, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 1],\n      [0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0],\n      [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0],\n      [0, 0, 0, 1, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0],\n      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0],\n      [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0],\n    ],\n  },\n  t002: {\n    include: true,\n    sound: 'bass01',\n    notes: SCALE_A_MINOR.slice(0, 6),\n    steps: [\n      [1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 1, 1],\n      [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n      [0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n      [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n    ],\n  },\n}\n\nconst Studio = () => {\n  const tracks = Object.entries(songs)\n  const tracksRef = useRef(tracks.map(() => createRef()))\n\n  return (\n    <Main id={'studio'}>\n      <Master volume={0} bpm={120} />\n      <div className={'poly'}>\n        {tracks.map(([trackId, { include, sound, ...config }], i) => {\n          const track = sounds[sound]\n\n          if (track && include) {\n            const props = {\n              key: trackId,\n              ref: tracksRef.current[i],\n              index: i,\n              trackId,\n              ...TRACK_DEFAULT,\n              ...track,\n              ...config,\n            }\n\n            switch (track.type) {\n              case 'poly':\n                return <PolyTrack {...props} />\n              default:\n                return null\n            }\n          } else {\n            return null\n          }\n        })}\n      </div>\n    </Main>\n  )\n}\n\nexport default Studio\n","import React, { useRef } from 'react'\nimport {\n  Oscillator as Osc,\n  Distortion,\n  Destination,\n  Filter,\n  Tremolo,\n} from 'tone'\n\nimport './index.css'\n\nimport { interpolate } from 'utils/studioHelpers'\nimport { useEventListener, usePointer } from 'hooks'\n\nconst Oscillator = () => {\n  const pointer = usePointer()\n\n  const distortionRef = useRef(new Distortion(0.8))\n\n  const filterRef = useRef(\n    new Filter({\n      type: 'lowpass',\n      frequency: 1100,\n      rolloff: -12,\n      Q: 1,\n      gain: 12,\n    })\n  )\n\n  const tremoloRef = useRef(new Tremolo(9, 1))\n\n  const oscillatorRef = useRef(\n    new Osc({\n      type: 'sine',\n      frequency: 440,\n      detune: 0,\n      phase: 0,\n      volume: 0,\n    }).chain(\n      distortionRef.current,\n      tremoloRef.current,\n      filterRef.current,\n      Destination\n    )\n  )\n\n  const interpolateX = interpolate({ to: [0, 440], clamp: true })\n\n  const interpolateY = interpolate({ to: [0, 32], clamp: true })\n\n  useEventListener((e) => {\n    switch (e.key) {\n      case 'Shift':\n        filterRef.current.set({ type: 'highpass' })\n        break\n      case 'Alt':\n        tremoloRef.current.start()\n        break\n      default:\n        break\n    }\n  })\n\n  useEventListener(\n    (e) => {\n      switch (e.key) {\n        case 'Shift':\n          filterRef.current.set({\n            type: 'lowpass',\n          })\n          break\n        case 'Alt':\n          tremoloRef.current.stop()\n          break\n        default:\n          break\n      }\n    },\n    document.body,\n    'keyup'\n  )\n\n  return (\n    <div\n      id={'oscillator'}\n      onPointerDown={() => oscillatorRef.current.start()}\n      onPointerUp={() => oscillatorRef.current.stop()}\n      onPointerEnter={() => {\n        if (pointer.isDown) {\n          oscillatorRef.current.start()\n        }\n      }}\n      onPointerLeave={() => {\n        if (oscillatorRef.current.state === 'stated') {\n          oscillatorRef.current.stop()\n        }\n      }}\n      onPointerMove={(e) => {\n        const { x, y, width, height } = e.target.getBoundingClientRect()\n\n        const frequency = Math.abs(\n          Math.round(\n            interpolateX(e.clientX - x, {\n              from: [0, width],\n            })\n          )\n        )\n\n        const partialCount = Math.abs(\n          Math.round(\n            interpolateY(e.clientY - y, {\n              from: [0, height],\n            })\n          )\n        )\n\n        oscillatorRef.current.set({\n          frequency,\n          partialCount,\n        })\n      }}\n    />\n  )\n}\n\nexport default Oscillator\n","import React, { useEffect, useState } from 'react'\n\nconst usePointer = (element = document.body) => {\n  const [isDown, setIsDown] = useState(false)\n\n  useEffect(() => {\n    const isSupported = element && element.addEventListener\n    if (!isSupported) return\n\n    const handleMouseDown = () => setIsDown(true)\n    const handleMouseUp = () => setIsDown(false)\n\n    element.addEventListener('pointerdown', handleMouseDown)\n    element.addEventListener('pointerup', handleMouseUp)\n\n    return () => {\n      element.removeEventListener('pointerdown', handleMouseDown)\n      element.removeEventListener('pointerup', handleMouseUp)\n    }\n  }, [element])\n\n  return { isDown }\n}\n\nexport default usePointer\n","import React from 'react'\n\nimport { Main } from 'components/layout'\nimport { Master } from 'components/master'\nimport Oscillator from '../../components/oscillator'\n\nconst Page = () => {\n  return (\n    <Main id={'studio'}>\n      <Master volume={0} bpm={120} />\n      <Oscillator />\n    </Main>\n  )\n}\n\nexport default Page\n","import React from 'react'\nimport { Routes, Route } from 'react-router-dom'\n\nimport { Footer } from 'components/layout'\nimport Home from './pages/home'\nimport Studio from './pages/studio'\nimport Box from './pages/box'\nimport Poly from './pages/poly'\nimport Oscillator from './pages/oscillator'\nimport { MasterProvider } from 'components/master'\n\nconst App = () => (\n  <div className={'me'}>\n    <Routes>\n      <Route exact path=\"/\" element={<Home />} />\n      <Route\n        exact\n        path=\"studio\"\n        element={\n          <MasterProvider>\n            <Studio />\n          </MasterProvider>\n        }\n      />\n      <Route path=\"studio/*\" element={<StudioRoutes />} />\n      <Route path={'*'} element={<Home />} />\n    </Routes>\n  </div>\n)\n\nconst StudioRoutes = () => (\n  <>\n    <Routes>\n      <Route\n        exact\n        path=\"box\"\n        element={\n          <MasterProvider>\n            <Box />\n          </MasterProvider>\n        }\n      />\n      <Route\n        exact\n        path=\"poly\"\n        element={\n          <MasterProvider>\n            <Poly />\n          </MasterProvider>\n        }\n      />\n      <Route\n        exact\n        path=\"oscillator\"\n        element={\n          <MasterProvider>\n            <Oscillator />\n          </MasterProvider>\n        }\n      />\n    </Routes>\n    <Footer />\n  </>\n)\n\nexport default App\n","import React from 'react'\nimport { render } from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\nimport { QueryClient, QueryClientProvider } from 'react-query'\nimport { ErrorBoundary } from '@eoghanmccarthy/ui'\n\nimport App from './App'\n\nimport './styles.css'\n\nconst MOUNT_NODE = document.getElementById('root')\n\nconst queryClient = new QueryClient()\n\nrender(\n  <QueryClientProvider client={queryClient}>\n    <BrowserRouter>\n      <ErrorBoundary>\n        <App />\n      </ErrorBoundary>\n    </BrowserRouter>\n  </QueryClientProvider>,\n  MOUNT_NODE\n)\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkIds[i]] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunktheseboys\"] = self[\"webpackChunktheseboys\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [216], function() { return __webpack_require__(4519); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","css","position","zIndex","top","left","width","height","background","children","className","as","role","type","tabIndex","disabled","onClick","href","target","variant","theme","shape","size","rest","Element","buttonProps","aProps","cx","styles","toString","propTypes","PropTypes","display","flexDirection","justifyContent","alignItems","margin","borderWidth","borderStyle","outline","overflow","transition","userSelect","cursor","padding","borderRadius","boxShadow","variants","primary","backgroundColor","transparent","yellow","rounded","circle","minHeight","compoundVariants","minWidth","DialogBackground","close","right","bottom","maxWidth","maxHeight","overflowY","overflowX","lg","ErrorBoundary","hasError","error","info","console","log","this","state","props","Component","isUndefined","arg","isString","isArray","Array","isFunction","isNumber","calc","x","y","window","innerHeight","innerWidth","trans","s","animate","fill","useSpring","xys","config","mass","tension","friction","set","xmlns","viewBox","onMouseMove","clientX","clientY","onMouseLeave","style","transform","interpolate","d","location","useLocation","reloadDocument","to","pathname","id","alt","src","TwitterLogo","scrolling","frameBorder","DECIBEL_MIN","FREQUENCY_MAX","VOL_MIN","WET_STEP","SCALE_A_MINOR","STEPS_DEFAULT","TRACK_DEFAULT","channel","pan","volume","mute","notes","stepCount","steps","instrument","synth","options","effects","controls","getSynth","name","synths","PolySynth","Synth","MembraneSynth","MetalSynth","NoiseSynth","getEffect","BitCrusher","Compressor","Distortion","EQ3","FeedbackDelay","Filter","Gain","Gate","Limiter","Phaser","PitchShift","Reverb","StereoWidener","Error","channelRef","useRef","Channel","effectsChainRef","map","effect","synthRef","chain","current","Destination","trigger","args","triggerAttackRelease","useEffect","dispose","forEach","handler","element","document","body","eventName","savedHandler","addEventListener","eventListener","event","removeEventListener","channelTypes","isRequired","synthTypes","instrumentTypes","notesTypes","stepsTypes","ChevronIcon","memo","stroke","strokeWidth","points","CircleIcon","cy","r","MinusIcon","x1","y1","x2","y2","PlayIcon","PlusIcon","SquareIcon","Button","testId","isDisabled","oneOf","Controller","orient","ButtonControl","label","step","min","max","initialValue","toFixed","onChange","handleOnChange","val","querySelectorAll","e","setAttribute","querySelector","classList","contains","remove","add","next","parseFloat","value","orientation","Slider","forwardRef","ref","SliderControl","initial","controlRef","valueRef","isInvalid","innerHTML","htmlFor","onKeyDown","key","trackId","node","get","bits","ratio","attack","release","threshold","wet","decay","sustain","low","time","rampTo","mid","high","lowFrequency","highFrequency","FilterControls","frequency","pitch","ControlHandler","Track","linearStep","from","useClamp","clamp","minX","maxX","minY","maxY","slope","a","res","toPercent","interpolatedValue","Math","round","fromPercent","trackNumber","play","alert","muted","toggle","random","rand","floor","length","tmp","isStepOn","row","errorLog","consoleLog","getAttribute","drawSteps","stepTotal","getElementsByClassName","i","stepValue","rowIndex","stepIndex","currentTarget","StepSequencer","onStep","noteInterval","noteIndices","array","push","newArray","sequenceRef","Sequence","column","numSteps","onStepOn","numRows","notesToPlay","velocity","sequencer","randomValue","parseInt","note","undefined","Draw","onSequenceStep","start","rowData","gridTemplateColumns","span","title","gridColumn","StudioTrack","index","sound","useSound","useEventListener","shiftKey","scrollIntoView","Object","entries","group","find","envelope","MasterContext","createContext","Transport","beatIndex","beat","getElementById","recorder","Recorder","mimeType","code","handlePlay","getContext","master","getTransport","then","handleStopRecorder","stop","recording","url","URL","createObjectURL","anchor","createElement","download","click","Provider","record","bpm","component","context","useContext","useMasterContext","Midi","ToneMidi","tracks","bass01","slice","arr","maxPolyphony","voice0","oscillator","voice1","Map","preDelay","distortion","oversample","smoothing","eq3","kick01","pitchDecay","octaves","knee","Q","equaliser","compressor","limiter","kick02","HAT01","noise","playbackRate","detune","gain","rolloff","filter","HAT02","snare01","harmonicity","resonance","modulationIndex","delayTime","feedback","maxDelay","snare02","poly01","stages","baseFrequency","phaser","sounds","bass","kicks","hats","snares","poly","song","t001","t002","t003","t004","t005","t006","t007","tracksRef","createRef","UserMedia","Fragment","track","BoxTrack","handleTrigger","soundId","PolyTrack","songs","include","pointer","useState","isDown","setIsDown","handleMouseDown","handleMouseUp","usePointer","distortionRef","filterRef","tremoloRef","Tremolo","oscillatorRef","Osc","phase","interpolateX","interpolateY","onPointerDown","onPointerUp","onPointerEnter","onPointerLeave","onPointerMove","getBoundingClientRect","abs","partialCount","StudioRoutes","exact","path","MOUNT_NODE","queryClient","QueryClient","render","QueryClientProvider","client","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","keys","every","splice","n","getter","__esModule","definition","o","defineProperty","enumerable","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}